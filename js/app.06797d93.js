(()=>{"use strict";var e={8481:(e,t,s)=>{var r=s(3751),a=s(641);const o={id:"app"};function i(e,t,s,r,i,l){const n=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.CE)("div",o,[(0,a.bF)(n)])}const l={name:"App"};var n=s(6262);const c=(0,n.A)(l,[["render",i]]),d=c;var u=s(5220);const p={class:"home"};function h(e,t,s,r,o,i){const l=(0,a.g2)("LandingPage");return(0,a.uX)(),(0,a.CE)("div",p,[(0,a.bF)(l,{onFileUploaded:r.onFileUploaded},null,8,["onFileUploaded"])])}const m={class:"landing-bg"},f={class:"navbar"},g={class:"navbar-content"},v={class:"navbar-actions"},k={class:"main-content"},y={class:"upload-card"},b={class:"upload-area"};function _(e,t,s,r,o,i){const l=(0,a.g2)("ThemeToggle"),n=(0,a.g2)("ReportUploader"),c=(0,a.g2)("ReportsCollection");return(0,a.uX)(),(0,a.CE)("div",m,[(0,a.Lk)("nav",f,[(0,a.Lk)("div",g,[t[1]||(t[1]=(0,a.Fv)('<div class="navbar-brand" data-v-dcee7e90><span class="logo" style="display:flex;align-items:center;justify-content:center;background:#00a818;border-radius:50%;width:32px;height:32px;" data-v-dcee7e90><svg width="22" height="22" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-dcee7e90><path d="M12 2C6.48 2 2 6.48 2 12c0 4.97 3.87 9.06 8.78 9.86.34.05.47-.15.47-.34 0-.17-.01-.73-.01-1.41-3.57.77-4.32-1.72-4.32-1.72-.31-.8-.76-1.01-.76-1.01-.62-.42.05-.41.05-.41.68.05 1.04.7 1.04.7.61 1.04 1.6.74 1.99.57.06-.44.24-.74.43-.91-2.85-.32-5.85-1.43-5.85-6.36 0-1.4.5-2.54 1.32-3.44-.13-.33-.57-1.66.13-3.46 0 0 1.08-.35 3.54 1.31A12.3 12.3 0 0 1 12 6.84c1.09.01 2.19.15 3.22.44 2.46-1.66 3.54-1.31 3.54-1.31.7 1.8.26 3.13.13 3.46.82.9 1.32 2.04 1.32 3.44 0 4.94-3 6.04-5.86 6.36.25.22.47.65.47 1.31 0 .95-.01 1.72-.01 1.95 0 .19.13.39.48.33C18.13 21.06 22 16.97 22 12c0-5.52-4.48-10-10-10z" fill="#fff" data-v-dcee7e90></path></svg></span><span class="brand-title" data-v-dcee7e90>Automation Test Results || Cucumber Reports</span></div>',1)),(0,a.Lk)("div",v,[(0,a.bF)(l),t[0]||(t[0]=(0,a.Lk)("a",{href:"https://cucumber.io",target:"_blank",class:"navbar-link"},"cucumber.io",-1))])])]),(0,a.Lk)("main",k,[(0,a.Lk)("div",y,[t[2]||(t[2]=(0,a.Lk)("h1",{class:"main-title"},"Publish and share your test results, straight from this Site.",-1)),t[3]||(t[3]=(0,a.Lk)("p",{class:"subtitle"},[(0,a.eW)("Upload your "),(0,a.Lk)("span",{class:"accent"},"Cucumber JSON"),(0,a.eW)(" test report to visualize the results.")],-1)),(0,a.Lk)("div",b,[(0,a.bF)(n,{onReportUploaded:r.handleFileUpload},null,8,["onReportUploaded"])])]),(0,a.bF)(c),t[4]||(t[4]=(0,a.Fv)('<div class="howto-section" data-v-dcee7e90><h2 data-v-dcee7e90>Start publishing <span class="highlight" data-v-dcee7e90>in seconds</span></h2><div class="howto-cards" data-v-dcee7e90><div class="howto-card" data-v-dcee7e90><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/ruby/ruby-original.svg" alt="Ruby" class="howto-icon" data-v-dcee7e90><div class="howto-title" data-v-dcee7e90>cucumber-ruby</div><code data-v-dcee7e90>$ cucumber --publish</code></div><div class="howto-card" data-v-dcee7e90><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/java/java-original.svg" alt="JVM" class="howto-icon" data-v-dcee7e90><div class="howto-title" data-v-dcee7e90>cucumber-jvm</div><code data-v-dcee7e90>cucumber.publish.enabled=true</code></div><div class="howto-card" data-v-dcee7e90><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/javascript/javascript-original.svg" alt="JS" class="howto-icon" data-v-dcee7e90><div class="howto-title" data-v-dcee7e90>cucumber-js</div><code data-v-dcee7e90>$ cucumber-js --publish</code></div></div></div>',1))]),t[5]||(t[5]=(0,a.Lk)("footer",{class:"footer"},[(0,a.eW)(" Copyright Â© 2025 SriSri T "),(0,a.Lk)("br"),(0,a.Lk)("a",{href:"#",class:"footer-link"},"Terms & Privacy")],-1))])}var w=s(33);const F={class:"d-flex align-center"},S={class:"font-weight-medium"},E={class:"text-caption"},x={key:2,class:"mt-2"},C={class:"grey--text text--darken-1"},L={class:"d-flex align-center justify-space-between mb-2"},R={class:"storage-info mb-3"},T={class:"stored-reports-list"},A=["onClick"],W={class:"text-body-2 font-weight-medium"},D={class:"text-caption text-medium-emphasis"},P={class:"report-actions"};function $(e,t,s,o,i,l){const n=(0,a.g2)("v-card-title"),c=(0,a.g2)("v-file-input"),d=(0,a.g2)("v-alert"),u=(0,a.g2)("v-icon"),p=(0,a.g2)("v-chip"),h=(0,a.g2)("v-card-text"),m=(0,a.g2)("v-spacer"),f=(0,a.g2)("v-btn"),g=(0,a.g2)("v-card-actions"),v=(0,a.g2)("v-divider"),k=(0,a.g2)("v-expand-transition"),y=(0,a.g2)("v-card");return(0,a.uX)(),(0,a.Wv)(y,{class:"mx-auto my-8 pa-6","max-width":"420"},{default:(0,a.k6)(()=>[(0,a.bF)(n,{class:"text-h6 font-weight-bold"},{default:(0,a.k6)(()=>t[2]||(t[2]=[(0,a.eW)("Upload Cucumber JSON Report")])),_:1,__:[2]}),(0,a.bF)(h,null,{default:(0,a.k6)(()=>[(0,a.bF)(c,{modelValue:i.selectedFile,"onUpdate:modelValue":t[0]||(t[0]=e=>i.selectedFile=e),accept:".json",label:"Select or drag a Cucumber JSON file","prepend-icon":"mdi-file-upload","show-size":"",onChange:l.onFileChange,outlined:"",dense:"",rules:[l.fileTypeRule]},null,8,["modelValue","onChange","rules"]),i.errorMessage?((0,a.uX)(),(0,a.Wv)(d,{key:0,type:"error",dense:"",class:"mt-2"},{default:(0,a.k6)(()=>[(0,a.eW)((0,w.v_)(i.errorMessage),1)]),_:1})):(0,a.Q3)("",!0),i.showStorageInfo&&i.storageStatus?((0,a.uX)(),(0,a.Wv)(d,{key:1,type:i.storageStatus.type,dense:"",class:"mt-2",dismissible:"","onClick:close":l.dismissStorageInfo},{default:(0,a.k6)(()=>[(0,a.Lk)("div",F,[(0,a.bF)(u,{color:"success"===i.storageStatus.type?"success":"warning"===i.storageStatus.type?"warning":"info",class:"mr-2"},{default:(0,a.k6)(()=>[(0,a.eW)((0,w.v_)("server"===i.storageStatus.strategy?"mdi-cloud-upload":"persistent"===i.storageStatus.strategy?"mdi-check-circle":"compressed"===i.storageStatus.strategy?"mdi-alert-circle":"mdi-information"),1)]),_:1},8,["color"]),(0,a.Lk)("div",null,[(0,a.Lk)("div",S,(0,w.v_)("server"===i.storageStatus.strategy?"Uploaded to Server!":"persistent"===i.storageStatus.strategy?"Saved Successfully!":"compressed"===i.storageStatus.strategy?"Saved with Compression":"Session Only"),1),(0,a.Lk)("div",E,(0,w.v_)(i.storageStatus.message),1)])])]),_:1},8,["type","onClick:close"])):(0,a.Q3)("",!0),i.selectedFile&&!i.errorMessage?((0,a.uX)(),(0,a.CE)("div",x,[(0,a.bF)(p,{color:"primary",class:"ma-1"},{default:(0,a.k6)(()=>[(0,a.eW)((0,w.v_)(i.selectedFile.name),1)]),_:1}),(0,a.Lk)("span",C,"("+(0,w.v_)((i.selectedFile.size/1024).toFixed(1))+" KB)",1)])):(0,a.Q3)("",!0)]),_:1}),(0,a.bF)(g,null,{default:(0,a.k6)(()=>[(0,a.bF)(m),(0,a.bF)(f,{color:"success",disabled:!i.selectedFile||!!i.errorMessage,onClick:l.uploadReport},{default:(0,a.k6)(()=>t[3]||(t[3]=[(0,a.eW)("Upload")])),_:1,__:[3]},8,["disabled","onClick"])]),_:1}),l.hasStoredReports?((0,a.uX)(),(0,a.Wv)(h,{key:0,class:"pt-0"},{default:(0,a.k6)(()=>[(0,a.bF)(v,{class:"mb-3"}),(0,a.Lk)("div",L,[t[4]||(t[4]=(0,a.Lk)("span",{class:"text-subtitle-2 font-weight-medium"},"Previously Uploaded Reports",-1)),(0,a.bF)(f,{size:"small",variant:"text",color:"primary",onClick:t[1]||(t[1]=e=>i.showStorageManager=!i.showStorageManager)},{default:(0,a.k6)(()=>[(0,a.eW)((0,w.v_)(i.showStorageManager?"Hide":"Manage")+" ",1),(0,a.bF)(u,{size:"16",class:"ml-1"},{default:(0,a.k6)(()=>[(0,a.eW)((0,w.v_)(i.showStorageManager?"mdi-chevron-up":"mdi-chevron-down"),1)]),_:1})]),_:1})]),(0,a.bF)(k,null,{default:(0,a.k6)(()=>[(0,a.bo)((0,a.Lk)("div",null,[(0,a.Lk)("div",R,[(0,a.bF)(p,{size:"small",color:"info",variant:"outlined"},{default:(0,a.k6)(()=>[(0,a.eW)((0,w.v_)(l.storedReports.length)+" report"+(0,w.v_)(1!==l.storedReports.length?"s":"")+" stored ",1)]),_:1}),(0,a.bF)(p,{size:"small",color:"secondary",variant:"outlined",class:"ml-2"},{default:(0,a.k6)(()=>[(0,a.eW)((0,w.v_)(l.formatStorageSize(l.getTotalStorageSize()))+" used ",1)]),_:1})]),(0,a.Lk)("div",T,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.storedReports,e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id,class:(0,w.C4)(["stored-report-item d-flex align-center justify-space-between pa-2 mb-1",{"session-only":"session"===e.storageStrategy}])},[(0,a.Lk)("div",{class:"flex-grow-1 clickable-area",onClick:t=>l.viewStoredReport(e.id)},[(0,a.Lk)("div",W,(0,w.v_)(e.name),1),(0,a.Lk)("div",D,[(0,a.eW)((0,w.v_)(l.formatDate(e.date))+" â€¢ "+(0,w.v_)(l.formatStorageSize(e.size))+" ",1),(0,a.bF)(p,{size:"x-small",color:l.getStorageChipColor(e.storageStrategy),variant:"flat",class:"ml-1"},{default:(0,a.k6)(()=>[(0,a.eW)((0,w.v_)(l.getStorageLabel(e.storageStrategy)),1)]),_:2},1032,["color"])])],8,A),(0,a.Lk)("div",P,[(0,a.bF)(f,{size:"small",variant:"text",color:"primary",onClick:t=>l.viewStoredReport(e.id),icon:"mdi-eye",class:"mr-1"},null,8,["onClick"]),(0,a.bF)(f,{size:"small",variant:"text",color:"error",onClick:t=>l.deleteStoredReport(e.id),icon:"mdi-delete"},null,8,["onClick"])])],2))),128))]),l.storedReports.length>0?((0,a.uX)(),(0,a.Wv)(f,{key:0,size:"small",variant:"outlined",color:"error",onClick:l.clearAllStoredReports,class:"mt-2"},{default:(0,a.k6)(()=>[(0,a.bF)(u,{size:"16",class:"mr-1"},{default:(0,a.k6)(()=>t[5]||(t[5]=[(0,a.eW)("mdi-delete-sweep")])),_:1,__:[5]}),t[6]||(t[6]=(0,a.eW)(" Clear All "))]),_:1,__:[6]},8,["onClick"])):(0,a.Q3)("",!0)],512),[[r.aG,i.showStorageManager]])]),_:1})]),_:1})):(0,a.Q3)("",!0)]),_:1})}const z={NODE_ENV:"production",BASE_URL:"/TestResultsPr1/"}.VUE_APP_API_URL||"http://localhost:3001/api";class I{async uploadReport(e,t,s){try{const r=await fetch(`${z}/upload-report`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reportId:e,reportData:t,name:s})}),a=await r.json();if(!r.ok)throw new Error(a.error||"Upload failed");return a}catch(r){throw console.error("Upload service error:",r),r}}async getReports(){try{const e=await fetch(`${z}/reports`),t=await e.json();if(!e.ok)throw new Error(t.error||"Failed to fetch reports");return t.reports||[]}catch(e){throw console.error("Get reports error:",e),e}}async deleteReport(e){try{const t=await fetch(`${z}/reports/${e}`,{method:"DELETE"}),s=await t.json();if(!t.ok)throw new Error(s.error||"Delete failed");return s}catch(t){throw console.error("Delete service error:",t),t}}async regenerateIndex(){try{const e=await fetch(`${z}/regenerate-index`,{method:"POST"}),t=await e.json();if(!e.ok)throw new Error(t.error||"Index regeneration failed");return t}catch(e){throw console.error("Regenerate index error:",e),e}}async checkServerHealth(){try{const e=await fetch(`${z}/health`,{method:"GET",timeout:5e3});return e.ok}catch(e){return console.warn("Upload server not available:",e.message),!1}}getReportUrl(e){const t={NODE_ENV:"production",BASE_URL:"/TestResultsPr1/"}.VUE_APP_BASE_URL||window.location.origin;return`${t}/TestResultsJsons/${e}`}}const X=new I;function M(e){if(Array.isArray(e)&&e.length>0){const t=e[0];if(t.name&&(t.elements||t.scenarios))return{format:"standard",data:e}}return e.features&&Array.isArray(e.features)?{format:"wrapped",data:e.features}:e.name&&(e.elements||e.scenarios)?{format:"single",data:[e]}:e.results&&Array.isArray(e.results)?{format:"testng",data:e.results}:{format:"unknown",data:null}}function O(e){if(!Array.isArray(e)||0===e.length)return{valid:!1,error:"No features found"};const t=e.some(e=>e.name&&(e.elements&&Array.isArray(e.elements)||e.scenarios&&Array.isArray(e.scenarios)));return t?{valid:!0}:{valid:!1,error:"No valid features with scenarios found"}}const U={data(){return{selectedFile:null,errorMessage:"",storageStatus:null,showStorageInfo:!1,showStorageManager:!1,$uploadService:X}},computed:{storedReports(){try{return JSON.parse(localStorage.getItem("uploaded-reports-index")||"[]")}catch(e){return[]}},hasStoredReports(){return this.storedReports.length>0}},methods:{fileTypeRule(e){return!e||(!(!e.name||!e.name.endsWith(".json"))||"Only .json files are allowed")},onFileChange(e){if(this.errorMessage="",e)return e.name&&!e.name.endsWith(".json")?(this.errorMessage="Please select a valid .json file.",void(this.selectedFile=null)):void 0},uploadReport(){if(this.selectedFile){const e=new FileReader;e.onload=async e=>{try{const r=JSON.parse(e.target.result),a=M(r);if("unknown"===a.format||!a.data)return void(this.errorMessage=`Unsupported file format. Expected Cucumber JSON report but found: ${typeof r}. Please check the file format.`);const o=O(a.data);if(!o.valid)return void(this.errorMessage=`Invalid Cucumber JSON report: ${o.error}. Please ensure the file contains valid test results.`);let i=a.data;console.log(`âœ… Detected format: ${a.format}, Features: ${i.length}`);const l=this.fixSkippedStepsWithDuration(i);l>0&&console.log(`ðŸ”§ Auto-fixed ${l} skipped steps that had duration values`);const n="report-"+Date.now(),c=this.selectedFile.name.replace(/\.json$/i,""),d=(new Date).toISOString();this.$store.commit("setReportData",i);try{const e=await this.$uploadService.uploadReport(n,i,c);if(e.success)return this.showStorageStatus("server",`Report uploaded to server successfully! Available at: ${e.url}`),this.saveToLocalStorage(n,i,c,d,"server"),this.$emit("report-uploaded",{...i,_uploadedId:n,_storageStrategy:"server",_storageMessage:"Report saved to server and will be available in the reports index.",_serverUrl:e.url}),void(this.selectedFile=null)}catch(t){console.warn("Server upload failed, falling back to localStorage:",t.message)}const u=JSON.stringify(i).length,p=5242880;let h="session",m="Report uploaded successfully for this session.";if(u<p)try{localStorage.setItem("uploaded-report-"+n,JSON.stringify(i)),h="persistent",m="Report saved successfully! It will persist across browser sessions."}catch(e){try{const e={features:i.features.map(e=>({name:e.name,uri:e.uri,id:e.id,tags:e.tags,elements:e.elements?e.elements.map(e=>({name:e.name,id:e.id,type:e.type,keyword:e.keyword,tags:e.tags,steps:e.steps?e.steps.map(e=>({name:e.name,keyword:e.keyword,result:e.result,duration:e.duration})):[]})):[]}))};localStorage.setItem("uploaded-report-"+n,JSON.stringify(e)),h="compressed",m="Report saved with compression. Some detailed information may be reduced to fit storage limits."}catch(s){console.warn("Could not save report to localStorage:",s),h="session"}}else m="Large report uploaded successfully (session only due to size).";this.saveToLocalStorage(n,i,c,d,h),this.$emit("report-uploaded",{...i,_uploadedId:n,_storageStrategy:h,_storageMessage:m}),this.showStorageStatus(h,m),this.selectedFile=null}catch(r){this.errorMessage="Invalid JSON file: "+(r&&r.message?r.message:"Unknown error.")}},e.readAsText(this.selectedFile)}},showStorageStatus(e,t){this.storageStatus={strategy:e,message:t,type:this.getStorageAlertType(e)},this.showStorageInfo=!0,"persistent"!==e&&"server"!==e||setTimeout(()=>{this.showStorageInfo=!1},5e3)},getStorageAlertType(e){switch(e){case"server":return"success";case"persistent":return"success";case"compressed":return"warning";case"session":return"info";default:return"info"}},saveToLocalStorage(e,t,s,r,a){try{const o=JSON.stringify(t).length;let i=JSON.parse(localStorage.getItem("uploaded-reports-index")||"[]");i.unshift({id:e,name:s,date:r,size:o,storageStrategy:a,persistent:"session"!==a}),localStorage.setItem("uploaded-reports-index",JSON.stringify(i))}catch(o){console.warn("Failed to update localStorage index:",o)}},dismissStorageInfo(){this.showStorageInfo=!1},fixSkippedStepsWithDuration(e){let t=0;return e.forEach(e=>{e.elements&&e.elements.forEach(e=>{e.steps&&e.steps.forEach(e=>{e.result&&"skipped"===e.result.status&&e.result.duration&&e.result.duration>0&&(e.result.status="passed",t++)})})}),t},getTotalStorageSize(){return this.storedReports.reduce((e,t)=>e+(t.size||0),0)},formatStorageSize(e){if(0===e)return"0 B";const t=1024,s=["B","KB","MB","GB"],r=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,r)).toFixed(1))+" "+s[r]},formatDate(e){try{const t=new Date(e);return t.toLocaleDateString()+" "+t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch(t){return"Unknown date"}},getStorageChipColor(e){switch(e){case"server":return"primary";case"persistent":return"success";case"compressed":return"warning";case"session":return"info";default:return"grey"}},getStorageLabel(e){switch(e){case"server":return"Server";case"persistent":return"Saved";case"compressed":return"Compressed";case"session":return"Session";default:return"Unknown"}},deleteStoredReport(e){try{localStorage.removeItem("uploaded-report-"+e);let t=JSON.parse(localStorage.getItem("uploaded-reports-index")||"[]");t=t.filter(t=>t.id!==e),localStorage.setItem("uploaded-reports-index",JSON.stringify(t)),this.$forceUpdate(),this.showStorageStatus("success",`Report "${e}" deleted successfully.`)}catch(t){console.error("Error deleting report:",t),this.errorMessage="Failed to delete report. Please try again."}},clearAllStoredReports(){if(confirm("Are you sure you want to delete all stored reports? This action cannot be undone."))try{this.storedReports.forEach(e=>{localStorage.removeItem("uploaded-report-"+e.id)}),localStorage.removeItem("uploaded-reports-index"),this.$forceUpdate(),this.showStorageStatus("success","All stored reports have been deleted."),this.showStorageManager=!1}catch(e){console.error("Error clearing reports:",e),this.errorMessage="Failed to clear reports. Please try again."}},viewStoredReport(e){try{const t=localStorage.getItem("uploaded-report-"+e);if(t){const s=JSON.parse(t);this.$store.commit("setReportData",{...s,_uploadedId:e}),this.$router.push({name:"Report",params:{id:e},query:{t:Date.now()}})}else{this.showStorageStatus("error",`Report "${e}" not found. It may have been deleted or expired.`);let t=JSON.parse(localStorage.getItem("uploaded-reports-index")||"[]");t=t.filter(t=>t.id!==e),localStorage.setItem("uploaded-reports-index",JSON.stringify(t)),this.$forceUpdate()}}catch(t){console.error("Error loading stored report:",t),this.errorMessage="Failed to load report. Please try again."}}}},j=(0,n.A)(U,[["render",$],["__scopeId","data-v-c8876fc6"]]),N=j,B={class:"reports-collection-container"},J={class:"header-left"},V={key:0,class:"collection-subtitle"},Q={class:"header-actions"},G={class:"filters-grid"},H={key:0,class:"loading-state"},K={key:2,class:"empty-state"},q={class:"text-medium-emphasis"},Y={key:3,class:"reports-grid"},Z={class:"report-header-single-line"},ee={class:"date-info"},te={class:"test-counts-info"},se={class:"passed-count"},re={class:"failed-count"},ae={class:"skipped-count"},oe={class:"report-actions"},ie={class:"compact-progress-section"},le={class:"compact-stats"},ne={class:"total-tests"},ce={key:0,class:"tags-section"},de={key:0,class:"more-tags"},ue={class:"report-identifier"},pe={class:"json-filename"};function he(e,t,s,o,i,l){const n=(0,a.g2)("v-icon"),c=(0,a.g2)("v-btn"),d=(0,a.g2)("v-card-title"),u=(0,a.g2)("v-text-field"),p=(0,a.g2)("v-select"),h=(0,a.g2)("v-card-text"),m=(0,a.g2)("v-expand-transition"),f=(0,a.g2)("v-progress-circular"),g=(0,a.g2)("v-alert"),v=(0,a.g2)("v-list-item-title"),k=(0,a.g2)("v-list-item"),y=(0,a.g2)("v-list"),b=(0,a.g2)("v-menu"),_=(0,a.g2)("v-progress-linear"),F=(0,a.g2)("v-chip"),S=(0,a.g2)("v-card");return(0,a.uX)(),(0,a.CE)("div",B,[(0,a.bF)(S,{class:"reports-collection-card"},{default:(0,a.k6)(()=>[(0,a.bF)(d,{class:"reports-collection-header"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",J,[(0,a.bF)(n,{color:"primary",size:"24",class:"mr-3"},{default:(0,a.k6)(()=>t[5]||(t[5]=[(0,a.eW)("mdi-folder-multiple")])),_:1,__:[5]}),(0,a.Lk)("div",null,[t[6]||(t[6]=(0,a.Lk)("h3",{class:"collection-title"},"Test Reports",-1)),i.reportsCollection.length>0?((0,a.uX)(),(0,a.CE)("p",V,(0,w.v_)(i.reportsCollection.length)+" reports available ",1)):(0,a.Q3)("",!0)])]),(0,a.Lk)("div",Q,[(0,a.bF)(c,{size:"small",variant:"outlined",color:"primary",onClick:l.refreshReports,loading:i.loading},{default:(0,a.k6)(()=>[(0,a.bF)(n,{size:"16",class:"mr-1"},{default:(0,a.k6)(()=>t[7]||(t[7]=[(0,a.eW)("mdi-refresh")])),_:1,__:[7]}),t[8]||(t[8]=(0,a.eW)(" Refresh "))]),_:1,__:[8]},8,["onClick","loading"]),(0,a.bF)(c,{size:"small",variant:"text",color:"secondary",onClick:t[0]||(t[0]=e=>i.showFilters=!i.showFilters)},{default:(0,a.k6)(()=>[(0,a.bF)(n,{size:"16",class:"mr-1"},{default:(0,a.k6)(()=>t[9]||(t[9]=[(0,a.eW)("mdi-filter")])),_:1,__:[9]}),t[10]||(t[10]=(0,a.eW)(" Filter "))]),_:1,__:[10]})])]),_:1}),(0,a.bF)(m,null,{default:(0,a.k6)(()=>[(0,a.bo)((0,a.bF)(h,{class:"filters-section"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",G,[(0,a.bF)(u,{modelValue:i.searchQuery,"onUpdate:modelValue":t[1]||(t[1]=e=>i.searchQuery=e),placeholder:"Search reports...","prepend-inner-icon":"mdi-magnify",variant:"outlined",density:"compact",clearable:"","hide-details":"",class:"search-field"},null,8,["modelValue"]),(0,a.bF)(p,{modelValue:i.statusFilter,"onUpdate:modelValue":t[2]||(t[2]=e=>i.statusFilter=e),items:i.statusOptions,label:"Status",variant:"outlined",density:"compact",clearable:"","hide-details":""},null,8,["modelValue","items"]),(0,a.bF)(p,{modelValue:i.sortBy,"onUpdate:modelValue":t[3]||(t[3]=e=>i.sortBy=e),items:i.sortOptions,label:"Sort by",variant:"outlined",density:"compact","hide-details":""},null,8,["modelValue","items"])])]),_:1},512),[[r.aG,i.showFilters]])]),_:1}),(0,a.bF)(h,{class:"reports-content"},{default:(0,a.k6)(()=>[i.loading?((0,a.uX)(),(0,a.CE)("div",H,[(0,a.bF)(f,{indeterminate:"",color:"primary",class:"mb-2"}),t[11]||(t[11]=(0,a.Lk)("p",null,"Loading reports...",-1))])):i.reportsCollectionError?((0,a.uX)(),(0,a.Wv)(g,{key:1,type:"error",class:"mb-4"},{append:(0,a.k6)(()=>[(0,a.bF)(c,{size:"small",variant:"text",onClick:l.refreshReports},{default:(0,a.k6)(()=>t[12]||(t[12]=[(0,a.eW)(" Retry ")])),_:1,__:[12]},8,["onClick"])]),default:(0,a.k6)(()=>[(0,a.eW)((0,w.v_)(i.reportsCollectionError)+" ",1)]),_:1})):0===l.filteredReports.length?((0,a.uX)(),(0,a.CE)("div",K,[(0,a.bF)(n,{size:"64",color:"grey-lighten-1",class:"mb-4"},{default:(0,a.k6)(()=>t[13]||(t[13]=[(0,a.eW)("mdi-folder-open")])),_:1,__:[13]}),t[14]||(t[14]=(0,a.Lk)("h4",{class:"mb-2"},"No reports found",-1)),(0,a.Lk)("p",q,(0,w.v_)(0===i.reportsCollection.length?"Upload your first report to get started":"Try adjusting your filters"),1)])):((0,a.uX)(),(0,a.CE)("div",Y,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.filteredReports,e=>((0,a.uX)(),(0,a.Wv)(S,{key:e.id,class:(0,w.C4)(["report-card",{"report-failed":e.failed>0}]),onClick:t=>l.navigateToReport(e)},{default:(0,a.k6)(()=>[(0,a.bF)(h,{class:"report-content"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",Z,[(0,a.bF)(n,{color:l.getStatusColor(e),size:"20",class:"status-icon"},{default:(0,a.k6)(()=>[(0,a.eW)((0,w.v_)(l.getStatusIcon(e)),1)]),_:2},1032,["color"]),(0,a.Lk)("span",ee,(0,w.v_)(l.formatDate(e.date)),1),(0,a.Lk)("span",te,[(0,a.Lk)("span",se,(0,w.v_)(e.passed||0),1),t[15]||(t[15]=(0,a.eW)(":")),(0,a.Lk)("span",re,(0,w.v_)(e.failed||0),1),t[16]||(t[16]=(0,a.eW)(":")),(0,a.Lk)("span",ae,(0,w.v_)(e.skipped||0),1)]),(0,a.Lk)("div",oe,[(0,a.bF)(c,{icon:l.isPublished(e)?"mdi-cloud-check":"mdi-cloud-upload",size:"small",variant:"text",color:l.isPublished(e)?"success":"primary",onClick:(0,r.D$)(t=>l.togglePublishStatus(e),["stop"]),title:l.isPublished(e)?"Unpublish from GitHub Pages":"Publish to GitHub Pages"},null,8,["icon","color","onClick","title"]),(0,a.bF)(b,null,{activator:(0,a.k6)(({props:e})=>[(0,a.bF)(c,(0,a.v6)({icon:"mdi-dots-vertical",size:"small",variant:"text"},{ref_for:!0},e,{onClick:t[4]||(t[4]=(0,r.D$)(()=>{},["stop"]))}),null,16)]),default:(0,a.k6)(()=>[(0,a.bF)(y,null,{default:(0,a.k6)(()=>[(0,a.bF)(k,{onClick:t=>l.navigateToReport(e)},{default:(0,a.k6)(()=>[(0,a.bF)(v,null,{default:(0,a.k6)(()=>[(0,a.bF)(n,{size:"16",class:"mr-2"},{default:(0,a.k6)(()=>t[17]||(t[17]=[(0,a.eW)("mdi-eye")])),_:1,__:[17]}),t[18]||(t[18]=(0,a.eW)(" View Report "))]),_:1,__:[18]})]),_:2},1032,["onClick"]),(0,a.bF)(k,{onClick:t=>l.togglePublishStatus(e)},{default:(0,a.k6)(()=>[(0,a.bF)(v,null,{default:(0,a.k6)(()=>[(0,a.bF)(n,{size:"16",class:"mr-2"},{default:(0,a.k6)(()=>[(0,a.eW)((0,w.v_)(l.isPublished(e)?"mdi-cloud-off":"mdi-cloud-upload"),1)]),_:2},1024),(0,a.eW)(" "+(0,w.v_)(l.isPublished(e)?"Unpublish":"Publish to GitHub Pages"),1)]),_:2},1024)]),_:2},1032,["onClick"]),(0,a.bF)(k,{onClick:t=>l.deleteReport(e),class:"text-error"},{default:(0,a.k6)(()=>[(0,a.bF)(v,null,{default:(0,a.k6)(()=>[(0,a.bF)(n,{size:"16",class:"mr-2"},{default:(0,a.k6)(()=>t[19]||(t[19]=[(0,a.eW)("mdi-delete")])),_:1,__:[19]}),t[20]||(t[20]=(0,a.eW)(" Delete "))]),_:1,__:[20]})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)])]),(0,a.Lk)("div",ie,[(0,a.bF)(_,{"model-value":l.getPassPercentage(e),color:l.getProgressColor(e),height:"4",rounded:"",class:"mb-1"},null,8,["model-value","color"]),(0,a.Lk)("div",le,[(0,a.Lk)("span",ne,(0,w.v_)((e.passed||0)+(e.failed||0)+(e.skipped||0))+" tests",1),(0,a.Lk)("span",{class:(0,w.C4)(["pass-rate-text",l.getPassRateClass(e)])},(0,w.v_)(l.getPassPercentage(e).toFixed(1))+"% passed ",3)])]),e.tags&&e.tags.length?((0,a.uX)(),(0,a.CE)("div",ce,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.tags.slice(0,3),e=>((0,a.uX)(),(0,a.Wv)(F,{key:e,size:"x-small",variant:"outlined",class:"mr-1 mb-1"},{default:(0,a.k6)(()=>[(0,a.eW)((0,w.v_)(e),1)]),_:2},1024))),128)),e.tags.length>3?((0,a.uX)(),(0,a.CE)("span",de," +"+(0,w.v_)(e.tags.length-3)+" more ",1)):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0),(0,a.Lk)("div",ue,[(0,a.Lk)("span",pe,(0,w.v_)(l.extractJsonFilename(e.id)),1)])]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))]))]),_:1})]),_:1})])}class me{constructor(){this.cache=new Map,this.cacheTimeout=3e5,this.baseUrl={NODE_ENV:"production",BASE_URL:"/TestResultsPr1/"}.VUE_APP_REPORTS_BASE_URL||"/TestResultsJsons/"}async loadIndex(){const e="index",t=this.cache.get(e);if(t&&Date.now()-t.timestamp<this.cacheTimeout)return t.data;try{const t=JSON.parse(localStorage.getItem("uploaded-reports-index")||"[]");if(t.length>0){const s={reports:t.map(e=>({...e,features:e.features||0,scenarios:e.scenarios||0,steps:e.steps||0,passed:e.passed||0,failed:e.failed||0,skipped:e.skipped||0,duration:e.duration||0,tags:e.tags||[],size:e.size||0})),statistics:null,version:"1.0.0-localStorage"};return this.cache.set(e,{data:s,timestamp:Date.now()}),console.log("Successfully loaded from localStorage"),s}}catch(a){console.warn("Failed to load from localStorage:",a)}const s=["/TestResultsPr1/TestResultsJsons/index.json","/TestResultsJsons/index.json","./TestResultsJsons/index.json","TestResultsJsons/index.json"];for(const i of s)try{console.log(`Trying to load index from: ${i}`);const t=await fetch(`${i}?t=${Date.now()}`,{cache:"reload"});if(!t.ok)throw new Error(`Failed to load index: ${t.status} ${t.statusText}`);const s=await t.json();let r;if(Array.isArray(s))r={reports:s.map(e=>({...e,features:e.features||0,scenarios:e.scenarios||0,steps:e.steps||0,passed:e.passed||0,failed:e.failed||0,skipped:e.skipped||0,duration:e.duration||0,tags:e.tags||[],size:e.size||0})),statistics:null,version:"1.0.0"};else{if(!s||!s.reports)throw new Error("Invalid index format");r=s}return this.cache.set(e,{data:r,timestamp:Date.now()}),console.log(`Successfully loaded index from: ${i}`),r}catch(o){console.warn(`Failed to load from ${i}:`,o.message)}console.error("All index loading attempts failed");const r={reports:[],statistics:{totalReports:0,totalScenarios:0,totalSteps:0,totalPassed:0,totalFailed:0,totalSkipped:0,passRate:"0.00",failRate:"0.00",skipRate:"0.00"},version:"1.0.0-fallback"};return this.cache.set(e,{data:r,timestamp:Date.now()}),r}async loadReport(e){const t=`report-${e}`,s=this.cache.get(t);if(s&&Date.now()-s.timestamp<this.cacheTimeout)return s.data;try{const s=await fetch(`${this.baseUrl}${e}.json?t=${Date.now()}`);if(!s.ok)throw new Error(`Failed to load report ${e}: ${s.status}`);const r=await s.json();return this.cache.set(t,{data:r,timestamp:Date.now()}),r}catch(r){throw console.error(`Error loading report ${e}:`,r),r}}async loadStatistics(){try{const e=await fetch(`${this.baseUrl}stats.json?t=${Date.now()}`);return e.ok?await e.json():null}catch(e){return console.warn("Statistics not available:",e),null}}searchReports(e,t){if(!t||!e)return e;const s=t.toLowerCase();return e.filter(e=>e.name.toLowerCase().includes(s)||e.id.toLowerCase().includes(s)||e.tags&&e.tags.some(e=>e.toLowerCase().includes(s))||e.environment&&e.environment.toLowerCase().includes(s)||e.tool&&e.tool.toLowerCase().includes(s))}filterReports(e,t){return e?e.filter(e=>{if(t.status&&t.status.length>0){const s=t.status.some(t=>{switch(t){case"passed":return 0===e.failed&&e.passed>0;case"failed":return e.failed>0;case"mixed":return e.passed>0&&e.failed>0;default:return!1}});if(!s)return!1}if(t.dateFrom||t.dateTo){const s=new Date(e.date);if(t.dateFrom&&s<new Date(t.dateFrom))return!1;if(t.dateTo&&s>new Date(t.dateTo))return!1}if(t.tags&&t.tags.length>0){const s=t.tags.some(t=>e.tags&&e.tags.includes(t));if(!s)return!1}return!(t.environment&&t.environment.length>0&&!t.environment.includes(e.environment))&&(!(void 0!==t.minDuration&&e.duration<t.minDuration)&&!(void 0!==t.maxDuration&&e.duration>t.maxDuration))}):[]}sortReports(e,t,s="desc"){if(!e)return[];const r=[...e].sort((e,r)=>{let a,o;switch(t){case"date":a=new Date(e.date),o=new Date(r.date);break;case"name":a=e.name.toLowerCase(),o=r.name.toLowerCase();break;case"duration":a=e.duration||0,o=r.duration||0;break;case"scenarios":a=e.scenarios||0,o=r.scenarios||0;break;case"passRate":a=e.steps>0?e.passed/e.steps:0,o=r.steps>0?r.passed/r.steps:0;break;default:return 0}return a<o?"asc"===s?-1:1:a>o?"asc"===s?1:-1:0});return r}getReportTrends(e,t=30){if(!e)return[];const s=new Date;s.setDate(s.getDate()-t);const r=e.filter(e=>new Date(e.date)>=s),a={};return r.forEach(e=>{const t=new Date(e.date).toISOString().split("T")[0];a[t]||(a[t]={date:t,reports:0,totalScenarios:0,totalPassed:0,totalFailed:0,totalDuration:0});const s=a[t];s.reports++,s.totalScenarios+=e.scenarios||0,s.totalPassed+=e.passed||0,s.totalFailed+=e.failed||0,s.totalDuration+=e.duration||0}),Object.values(a).sort((e,t)=>new Date(e.date)-new Date(t.date))}clearCache(){this.cache.clear()}getCacheStats(){return{size:this.cache.size,keys:Array.from(this.cache.keys()),totalMemory:JSON.stringify(Array.from(this.cache.values())).length}}}const fe=new me,ge={name:"ReportsCollection",data(){return{reportsCollection:[],reportsCollectionError:"",statistics:null,loading:!1,showFilters:!1,searchQuery:"",statusFilter:null,sortBy:"date",statusOptions:[{title:"All Passed",value:"passed"},{title:"Has Failures",value:"failed"},{title:"Mixed Results",value:"mixed"}],sortOptions:[{title:"Date (Newest)",value:"date"},{title:"Name",value:"name"},{title:"Duration",value:"duration"},{title:"Scenarios",value:"scenarios"},{title:"Pass Rate",value:"passRate"}]}},computed:{filteredReports(){let e=[...this.reportsCollection];return this.searchQuery&&(e=fe.searchReports(e,this.searchQuery)),this.statusFilter&&(e=fe.filterReports(e,{status:[this.statusFilter]})),e=fe.sortReports(e,this.sortBy),e}},methods:{async fetchReports(){this.loading=!0,this.reportsCollectionError="";try{const e=await fe.loadIndex();e.reports?(this.reportsCollection=e.reports,this.statistics=e.statistics):Array.isArray(e)&&(this.reportsCollection=e),this.statistics||(this.statistics=await fe.loadStatistics())}catch(e){this.reportsCollectionError=e.message||"Failed to load reports collection.";try{const e=JSON.parse(localStorage.getItem("uploaded-reports-index")||"[]");e.length>0&&(this.reportsCollection=e)}catch(t){console.error("Failed to load from localStorage:",t)}}finally{this.loading=!1}},async refreshReports(){fe.clearCache(),await this.fetchReports()},navigateToReport(e){this.$router.push({name:"Report",params:{id:e.id},query:{t:Date.now()}})},async deleteReport(e){if(confirm(`Are you sure you want to delete "${e.name}"?`))try{let t=JSON.parse(localStorage.getItem("uploaded-reports-index")||"[]");t=t.filter(t=>t.id!==e.id),localStorage.setItem("uploaded-reports-index",JSON.stringify(t)),localStorage.removeItem("uploaded-report-"+e.id),this.reportsCollection=this.reportsCollection.filter(t=>t.id!==e.id),this.$emit("report-deleted",e)}catch(t){console.error("Failed to delete report:",t),alert("Failed to delete report. Please try again.")}},getStatusIcon(e){return e.steps&&0!==e.steps?e.failed>0?"mdi-close-circle":e.passed>0?"mdi-check-circle":"mdi-pause-circle":"mdi-help-circle"},getStatusColor(e){return e.steps&&0!==e.steps?e.failed>0?"error":e.passed>0?"success":"warning":"grey"},getProgressColor(e){if(!e.steps||0===e.steps)return"grey";const t=e.passed/e.steps*100;return t>=90?"success":t>=70?"warning":"error"},getPassPercentage(e){return e.steps&&0!==e.steps?e.passed/e.steps*100:0},getPassRateClass(e){const t=this.getPassPercentage(e);return t>=90?"pass-rate-excellent":t>=70?"pass-rate-good":t>=50?"pass-rate-warning":"pass-rate-poor"},formatReportTitle(e){if(!e)return"Untitled Report";let t=e.replace(/^Admin\s+Client\s+Settings\s+Page\s*\|\|\s*/i,"").replace(/^(Admin\s+|Administration\s+)/i,"").replace(/\s*\|\|\s*Test\s+Scenarios?$/i,"").replace(/\s*Test\s+Scenarios?$/i,"").replace(/\s*Page$/i,"").replace(/\s+/g," ").trim();if(t.length<3){const s=e.split("||")[0]?.trim();t=s&&s.length>3?s.replace(/^(Admin\s+|Administration\s+)/i,"").replace(/\s*Page$/i,"").trim():e.replace(/\|\|/g,"â€¢").trim()}if(t.length>35){const e=t.split(" ");let s="";for(const t of e){if((s+t).length>32)break;s+=(s?" ":"")+t}t=s+(s.length<t.length?"...":"")}return this.toTitleCase(t)||"Test Report"},formatReportId(e){if(!e)return"";const t=e.split("-"),s=t.slice(-1)[0];if(s&&s.includes("T"))try{const e=new Date(s.replace(/(\d{4})(\d{2})(\d{2})T(\d{2})(\d{2})(\d{2})/,"$1-$2-$3T$4:$5:$6"));return`#${e.getMonth()+1}${e.getDate()}${e.getHours()}${e.getMinutes()}`}catch(r){}return`#${e.slice(-8)}`},showReportId(e){return e.name&&(e.name.length>45||this.reportsCollection.filter(t=>this.formatReportTitle(t.name)===this.formatReportTitle(e.name)).length>1)},toTitleCase(e){return e.replace(/\w\S*/g,t=>{const s=["and","or","the","a","an","in","on","at","to","for","of","with","by"],r=t.toLowerCase();return s.includes(r)&&0!==e.indexOf(t)?r:t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()})},formatDate(e){try{const t=new Date(e),s=new Date,r=s-t,a=Math.floor(r/6e4),o=Math.floor(r/36e5),i=Math.floor(r/864e5);return a<1?"Just now":a<60?`${a} min ago`:o<24?`${o} hr ago`:1===i?"1 day ago":i<30?`${i} days ago`:t.toLocaleDateString()}catch(t){return"Unknown date"}},extractJsonFilename(e){if(!e)return"";const t=e.split("-"),s=t[t.length-1];return s?s.slice(-4).toUpperCase():""},formatDuration(e){if(!e||0===e)return"0s";if(e<60)return`${e.toFixed(1)}s`;if(e<3600){const t=Math.floor(e/60),s=Math.floor(e%60);return`${t}m ${s}s`}{const t=Math.floor(e/3600),s=Math.floor(e%3600/60);return`${t}h ${s}m`}},isPublished(e){try{const t=JSON.parse(localStorage.getItem("published-reports-index")||"[]");return t.some(t=>t.id===e.id)}catch(t){return console.error("Error checking published status:",t),!1}},async togglePublishStatus(e){try{const t=JSON.parse(localStorage.getItem("published-reports-index")||"[]"),s=this.isPublished(e);if(s){const s=t.filter(t=>t.id!==e.id);localStorage.setItem("published-reports-index",JSON.stringify(s)),this.$emit("report-unpublished",e),console.log(`Report ${e.id} unpublished from GitHub Pages`)}else{const s={...e,publishedAt:(new Date).toISOString(),publishStatus:"published"};t.unshift(s),localStorage.setItem("published-reports-index",JSON.stringify(t)),this.$emit("report-published",e),console.log(`Report ${e.id} published to GitHub Pages`)}await this.updateGitHubPagesIndex(),await this.saveReportForGitHubPages(e),this.$forceUpdate()}catch(t){console.error("Error toggling publish status:",t),alert("Failed to update publish status. Please try again.")}},async updateGitHubPagesIndex(){try{const e=JSON.parse(localStorage.getItem("published-reports-index")||"[]"),t={reports:e.map(e=>({id:e.id,name:e.name,date:e.date,features:e.features||0,scenarios:e.scenarios||0,steps:e.steps||0,passed:e.passed||0,failed:e.failed||0,skipped:e.skipped||0,duration:e.duration||0,tags:e.tags||[],size:e.size||0,publishedAt:e.publishedAt})),statistics:this.calculatePublishedStatistics(e),version:"1.0.0-published",lastUpdated:(new Date).toISOString()};localStorage.setItem("github-pages-index",JSON.stringify(t)),console.log("GitHub Pages index updated with",e.length,"published reports")}catch(e){console.error("Error updating GitHub Pages index:",e)}},async saveReportForGitHubPages(e){try{const t=localStorage.getItem("uploaded-report-"+e.id);t&&await this.saveToUploadsFolder(e.id,t)}catch(t){console.error("Error saving report for GitHub Pages:",t),alert("Failed to publish report to GitHub Pages. Please try again.")}},async saveToUploadsFolder(e,t){try{"showDirectoryPicker"in window?await this.saveWithFileSystemAPI(e,t):await this.downloadWithInstructions(e,t)}catch(s){console.error("Error saving to uploads folder:",s),await this.downloadWithInstructions(e,t)}},async saveWithFileSystemAPI(e,t){try{const s=await window.showDirectoryPicker(),r=await s.getFileHandle(`${e}.json`,{create:!0}),a=await r.createWritable();await a.write(t),await a.close(),console.log(`âœ… Report ${e} saved to uploads folder`),alert("Report published successfully! The file has been saved and will be included in the next GitHub Pages update."),await this.triggerIndexGeneration()}catch(s){if("AbortError"!==s.name)throw s;console.log("User cancelled directory selection")}},async downloadWithInstructions(e,t){const s=new Blob([t],{type:"application/json"}),r=URL.createObjectURL(s),a=document.createElement("a");a.href=r,a.download=`${e}.json`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(r),console.log(`ðŸ“ Report ${e} downloaded for manual upload`);const o='\nðŸ“‹ To complete GitHub Pages publishing:\n\n1. Save the downloaded file to: \n   cucumber-report-viewer/public/TestResultsJsons/\n\n2. Run the index generator:\n   cd cucumber-report-viewer/public/TestResultsJsons\n   node generate-index-enhanced.js\n\n3. Commit and push the changes:\n   git add .\n   git commit -m "Add new test report"\n   git push\n\nThe GitHub workflow will automatically update your GitHub Pages site!\n      ';alert(o)},async triggerIndexGeneration(){try{console.log("ðŸ”„ Index generation needed - run generate-index-enhanced.js")}catch(e){console.error("Error triggering index generation:",e)}},calculatePublishedStatistics(e){if(!e.length)return{totalReports:0,totalScenarios:0,totalSteps:0,totalPassed:0,totalFailed:0,totalSkipped:0,passRate:"0.00",failRate:"0.00",skipRate:"0.00"};const t=e.reduce((e,t)=>({scenarios:e.scenarios+(t.scenarios||0),steps:e.steps+(t.steps||0),passed:e.passed+(t.passed||0),failed:e.failed+(t.failed||0),skipped:e.skipped+(t.skipped||0)}),{scenarios:0,steps:0,passed:0,failed:0,skipped:0}),s=t.steps>0?(t.passed/t.steps*100).toFixed(2):"0.00",r=t.steps>0?(t.failed/t.steps*100).toFixed(2):"0.00",a=t.steps>0?(t.skipped/t.steps*100).toFixed(2):"0.00";return{totalReports:e.length,totalScenarios:t.scenarios,totalSteps:t.steps,totalPassed:t.passed,totalFailed:t.failed,totalSkipped:t.skipped,passRate:s,failRate:r,skipRate:a}}},async mounted(){await this.fetchReports()}},ve=(0,n.A)(ge,[["render",he],["__scopeId","data-v-c64b7760"]]),ke=ve;function ye(e,t,s,r,o,i){const l=(0,a.g2)("v-icon"),n=(0,a.g2)("v-tooltip"),c=(0,a.g2)("v-btn");return(0,a.uX)(),(0,a.Wv)(c,{icon:e.isDark?"mdi-weather-sunny":"mdi-weather-night",variant:"text",onClick:i.handleToggle,title:e.isDark?"Switch to light mode":"Switch to dark mode","aria-label":e.isDark?"Switch to light mode":"Switch to dark mode",loading:o.isToggling,disabled:o.isToggling,class:"theme-toggle-btn",size:"default"},{default:(0,a.k6)(()=>[(0,a.bF)(l,{icon:e.isDark?"mdi-weather-sunny":"mdi-weather-night",color:e.isDark?"#FBBF24":"#60A5FA",size:"20",class:(0,w.C4)({rotating:o.isToggling})},null,8,["icon","color","class"]),(0,a.bF)(n,{activator:"parent",location:"bottom"},{default:(0,a.k6)(()=>[(0,a.eW)((0,w.v_)(e.isDark?"Switch to light mode":"Switch to dark mode"),1)]),_:1})]),_:1},8,["icon","onClick","title","aria-label","loading","disabled"])}var be=s(6278);const _e={name:"ThemeToggle",data(){return{isToggling:!1}},computed:{...(0,be.L8)("theme",["isDark","userPreference"])},mounted(){this.$el.addEventListener("keydown",this.handleKeydown)},beforeUnmount(){this.$el.removeEventListener("keydown",this.handleKeydown)},methods:{...(0,be.i0)("theme",["toggleTheme"]),async handleToggle(){if(this.isToggling)return;this.isToggling=!0,await new Promise(e=>setTimeout(e,150)),this.toggleTheme();const e=this.isDark?"Switched to light mode":"Switched to dark mode";this.announceToScreenReader(e),setTimeout(()=>{this.isToggling=!1},300)},handleKeydown(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this.handleToggle())},announceToScreenReader(e){const t=document.createElement("div");t.setAttribute("aria-live","polite"),t.setAttribute("aria-atomic","true"),t.style.position="absolute",t.style.left="-10000px",t.style.width="1px",t.style.height="1px",t.style.overflow="hidden",document.body.appendChild(t),t.textContent=e,setTimeout(()=>{document.body.removeChild(t)},1e3)}}},we=(0,n.A)(_e,[["render",ye],["__scopeId","data-v-23c0b68c"]]),Fe=we,Se={components:{ReportUploader:N,ReportsCollection:ke,ThemeToggle:Fe},setup(){const e=(0,u.rd)(),t=(0,be.Pj)(),s=s=>{const r=s&&s._uploadedId;if(s&&t.commit("setReportData",s),r)e.push({name:"Report",params:{id:r},query:{t:Date.now()}});else{let t=JSON.parse(localStorage.getItem("uploaded-reports-index")||"[]");const s=t&&t.length?t[0]:null;s&&s.id&&e.push({name:"Report",params:{id:s.id},query:{t:Date.now()}})}};return{handleFileUpload:s}}},Ee=(0,n.A)(Se,[["render",_],["__scopeId","data-v-dcee7e90"]]),xe=Ee;function Ce(e){let t=[];if(Array.isArray(e))t=e;else{if(!e||!Array.isArray(e.features))throw new Error("Input is not a valid Cucumber JSON array or object with a features array.");t=e.features}const s={features:[],totalScenarios:0,passed:0,failed:0,duration:0,meta:{framework:e.framework||"",frameworkVersion:e.frameworkVersion||"",runtime:e.runtime||"",runtimeVersion:e.runtimeVersion||"",os:e.os||""}};return t.forEach(e=>{const t={id:e.id,name:e.name,description:e.description||"",tags:Array.isArray(e.tags)?e.tags.map(e=>e.name||e):[],scenarios:[]},r=Array.isArray(e.elements)?e.elements:Array.isArray(e.children)?e.children:[];r.forEach(e=>{if("background"===e.type)return;const r={id:e.id,name:e.name,description:e.description||"",type:e.type,tags:Array.isArray(e.tags)?e.tags.map(e=>e.name||e):[],status:e.status,steps:[],keyword:e.keyword,line:e.line};Array.isArray(e.steps)&&e.steps.forEach(e=>{r.steps.push({keyword:e.keyword,name:e.name,status:e.result&&e.result.status,duration:e.result&&e.result.duration,errorMessage:e.result&&e.result.error_message||null,embeddings:e.embeddings||[],line:e.line})}),t.scenarios.push(r),s.totalScenarios++,"passed"===e.status?s.passed++:"failed"===e.status&&s.failed++,s.duration+=r.steps.reduce((e,t)=>e+(t.duration||0),0)}),s.features.push(t)}),s}const Le=Ce,Re={components:{LandingPage:xe},setup(){const e=(0,be.Pj)(),t=(0,u.rd)(),s=s=>{const r=Le(s);console.log("Parsed Cucumber JSON:",r),e.commit("setReportData",r),t.push("/report")};return{onFileUploaded:s}}},Te=(0,n.A)(Re,[["render",h],["__scopeId","data-v-90e6e0b4"]]),Ae=Te,We={class:"report-view"},De={class:"main-header"},Pe={class:"header-content"},$e={class:"header-top"},ze={class:"header-actions"},Ie={class:"main-content"},Xe={key:0,class:"card empty-card",style:{color:"#b71c1c",background:"#ffebee",border:"1px solid #ffcdd2"}},Me={key:1,class:"dashboard-grid"},Oe={key:2,class:"card empty-card"};function Ue(e,t,s,r,o,i){const l=(0,a.g2)("ThemeToggle"),n=(0,a.g2)("ReportViewer");return(0,a.uX)(),(0,a.CE)("div",We,[(0,a.Lk)("header",De,[(0,a.Lk)("div",Pe,[(0,a.Lk)("div",$e,[t[0]||(t[0]=(0,a.Lk)("div",{class:"header-left"},[(0,a.Lk)("span",{class:"logo",style:{display:"flex","align-items":"center","justify-content":"center",background:"#00a818","border-radius":"50%",width:"40px",height:"40px"}},[(0,a.Lk)("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,a.Lk)("path",{d:"M12 2C6.48 2 2 6.48 2 12c0 4.97 3.87 9.06 8.78 9.86.34.05.47-.15.47-.34 0-.17-.01-.73-.01-1.41-3.57.77-4.32-1.72-4.32-1.72-.31-.8-.76-1.01-.76-1.01-.62-.42.05-.41.05-.41.68.05 1.04.7 1.04.7.61 1.04 1.6.74 1.99.57.06-.44.24-.74.43-.91-2.85-.32-5.85-1.43-5.85-6.36 0-1.4.5-2.54 1.32-3.44-.13-.33-.57-1.66.13-3.46 0 0 1.08-.35 3.54 1.31A12.3 12.3 0 0 1 12 6.84c1.09.01 2.19.15 3.22.44 2.46-1.66 3.54-1.31 3.54-1.31.7 1.8.26 3.13.13 3.46.82.9 1.32 2.04 1.32 3.44 0 4.94-3 6.04-5.86 6.36.25.22.47.65.47 1.31 0 .95-.01 1.72-.01 1.95 0 .19.13.39.48.33C18.13 21.06 22 16.97 22 12c0-5.52-4.48-10-10-10z",fill:"#fff"})])])],-1)),(0,a.Lk)("div",ze,[(0,a.bF)(l)])]),t[1]||(t[1]=(0,a.Lk)("h1",{class:"main-title"},"Cucumber Test Results",-1))])]),(0,a.Lk)("main",Ie,[r.expired?((0,a.uX)(),(0,a.CE)("div",Xe,t[2]||(t[2]=[(0,a.Lk)("p",null,"This report link has expired (older than 24 hours).",-1)]))):r.reportData?((0,a.uX)(),(0,a.CE)("div",Me,[(0,a.bF)(n,{report:r.reportData,selectedFeatureIndex:r.selectedFeatureIndex,onSelectFeature:r.onSelectFeature},null,8,["report","selectedFeatureIndex","onSelectFeature"])])):((0,a.uX)(),(0,a.CE)("div",Oe,t[3]||(t[3]=[(0,a.Lk)("p",null,"No report data available. Please upload a Cucumber JSON file.",-1)])))])])}const je={class:"cucumber-report-root"},Ne={class:"modern-header"},Be={class:"header-container"},Je={class:"brand-section"},Ve={class:"brand-logo"},Qe={class:"logo-icon"},Ge={class:"execution-info"},He={class:"info-card"},Ke={class:"info-icon"},qe={class:"info-content"},Ye={class:"info-value"},Ze={class:"info-card"},et={class:"info-icon"},tt={class:"info-content"},st={class:"info-value"},rt={class:"results-overview"},at={class:"results-chart"},ot={class:"chart-container"},it={viewBox:"0 0 42 42",class:"donut-chart"},lt=["stroke-dasharray"],nt=["stroke-dasharray","stroke-dashoffset"],ct={class:"chart-center"},dt={class:"success-percentage"},ut={class:"results-summary"},pt={class:"summary-item success"},ht={class:"summary-count"},mt={class:"summary-item error"},ft={class:"summary-count"},gt={class:"summary-item warning"},vt={class:"summary-count"},kt={class:"time-section"},yt={class:"time-card"},bt={class:"time-icon"},_t={class:"time-content"},wt={class:"time-value"},Ft={class:"duration-card"},St={class:"duration-icon"},Et={class:"duration-content"},xt={class:"duration-value"},Ct={class:"cucumber-report-content"},Lt={key:0,class:"cucumber-alert error"},Rt={key:1,class:"cucumber-alert info"},Tt={class:"controls-bar-container"},At={class:"controls-bar"},Wt={class:"control-icon"},Dt={class:"control-content"},Pt={class:"control-actions"},$t={class:"control-icon"},zt={class:"control-content"},It={class:"control-actions"},Xt={class:"expandable-panels"},Mt={key:0,class:"search-panel"},Ot={class:"panel-content"},Ut={key:0,class:"search-results-info"},jt={class:"results-summary"},Nt={class:"results-breakdown"},Bt={class:"breakdown-item"},Jt={class:"breakdown-item"},Vt={class:"breakdown-item"},Qt={key:1,class:"search-no-results"},Gt={key:0,class:"filters-panel"},Ht={class:"panel-content"},Kt={class:"filters-grid"},qt={class:"filter-group"},Yt={class:"filter-label"},Zt={class:"filter-group"},es={class:"filter-label"},ts={class:"filter-group"},ss={class:"filter-label"},rs={class:"filter-group"},as={class:"filter-label"},os={key:0,class:"active-filters-summary"},is={class:"summary-header"},ls={class:"summary-content"},ns={class:"summary-text"},cs={class:"cucumber-summary-bar"},ds={class:"summary-env"},us={class:"env-value"},ps={class:"summary-stats"},hs={class:"stat passed"},ms={class:"stat failed"},fs={class:"stat skipped"},gs={class:"stat duration"},vs={class:"feature-file"},ks={key:4,class:"feature-tags"},ys={class:"feature-file"},bs={key:4,class:"feature-tags"},_s={key:0,class:"feature-description"},ws={class:"scenario-header-content"},Fs={class:"scenario-title-row"},Ss={class:"scenario-title"},Es={class:"scenario-duration"},xs={key:0,class:"scenario-tags"},Cs={class:"cucumber-steps-list"},Ls={class:"step-keyword"},Rs={class:"step-text"},Ts={key:4,class:"step-duration"},As={key:5,class:"step-error-block"},Ws={class:"error-header"},Ds={class:"step-error-message"},Ps={key:0,class:"error-actions"},$s={key:6,class:"step-screenshots"},zs={class:"screenshots-header"},Is={class:"screenshot-thumbnails"},Xs=["onClick"],Ms=["src","alt"],Os={class:"thumbnail-overlay"};function Us(e,t,s,o,i,l){const n=(0,a.g2)("v-icon"),c=(0,a.g2)("v-chip"),d=(0,a.g2)("v-btn"),u=(0,a.g2)("v-text-field"),p=(0,a.g2)("v-select"),h=(0,a.g2)("v-expansion-panel-title"),m=(0,a.g2)("LazyScenarios"),f=(0,a.g2)("v-expansion-panel-text"),g=(0,a.g2)("v-expansion-panel"),v=(0,a.g2)("VirtualScroller"),k=(0,a.g2)("v-expansion-panels");return(0,a.uX)(),(0,a.CE)("div",je,[(0,a.Lk)("div",Ne,[(0,a.Lk)("div",Be,[(0,a.Lk)("div",Je,[(0,a.Lk)("div",Ve,[(0,a.Lk)("div",Qe,[(0,a.bF)(n,{size:"32",color:l.isDarkTheme?"#34D399":"#10B981"},{default:(0,a.k6)(()=>t[9]||(t[9]=[(0,a.eW)("mdi-leaf")])),_:1,__:[9]},8,["color"])]),t[10]||(t[10]=(0,a.Lk)("div",{class:"brand-text"},[(0,a.Lk)("h1",{class:"brand-title"},"Cucumber Reports"),(0,a.Lk)("p",{class:"brand-subtitle"},"Test Execution Dashboard")],-1))])]),(0,a.Lk)("div",Ge,[(0,a.Lk)("div",He,[(0,a.Lk)("div",Ke,[(0,a.bF)(n,{size:"20",color:"#FF6B35"},{default:(0,a.k6)(()=>t[11]||(t[11]=[(0,a.eW)("mdi-language-java")])),_:1,__:[11]})]),(0,a.Lk)("div",qe,[t[12]||(t[12]=(0,a.Lk)("span",{class:"info-label"},"Runtime",-1)),(0,a.Lk)("span",Ye,(0,w.v_)(s.report?.tool||"cucumber-jvm"),1)])]),(0,a.Lk)("div",Ze,[(0,a.Lk)("div",et,[(0,a.bF)(n,{size:"20",color:"#00BCF2"},{default:(0,a.k6)(()=>t[13]||(t[13]=[(0,a.eW)("mdi-microsoft-windows")])),_:1,__:[13]})]),(0,a.Lk)("div",tt,[t[14]||(t[14]=(0,a.Lk)("span",{class:"info-label"},"Environment",-1)),(0,a.Lk)("span",st,(0,w.v_)(s.report?.os||"Windows 11"),1)])])]),(0,a.Lk)("div",rt,[(0,a.Lk)("div",at,[(0,a.Lk)("div",ot,[((0,a.uX)(),(0,a.CE)("svg",it,[t[15]||(t[15]=(0,a.Lk)("circle",{cx:"21",cy:"21",r:"15.915",fill:"transparent",stroke:"#F3F4F6","stroke-width":"3"},null,-1)),(0,a.Lk)("circle",{cx:"21",cy:"21",r:"15.915",fill:"transparent",stroke:"#10B981","stroke-width":"3","stroke-dasharray":l.passedPercentage+" "+(100-l.passedPercentage),"stroke-dashoffset":"25",transform:"rotate(-90 21 21)",class:"success-arc"},null,8,lt),l.summary.failed>0?((0,a.uX)(),(0,a.CE)("circle",{key:0,cx:"21",cy:"21",r:"15.915",fill:"transparent",stroke:"#EF4444","stroke-width":"3","stroke-dasharray":l.failedPercentage+" "+(100-l.failedPercentage),"stroke-dashoffset":25-l.passedPercentage,transform:"rotate(-90 21 21)",class:"error-arc"},null,8,nt)):(0,a.Q3)("",!0)])),(0,a.Lk)("div",ct,[(0,a.Lk)("span",dt,(0,w.v_)(l.passedPercentage)+"%",1),t[16]||(t[16]=(0,a.Lk)("span",{class:"chart-label"},"Passed",-1))])])]),(0,a.Lk)("div",ut,[(0,a.Lk)("div",pt,[(0,a.bF)(n,{size:"16",color:"#10B981"},{default:(0,a.k6)(()=>t[17]||(t[17]=[(0,a.eW)("mdi-check-circle")])),_:1,__:[17]}),(0,a.Lk)("span",ht,(0,w.v_)(l.summary.passed),1),t[18]||(t[18]=(0,a.Lk)("span",{class:"summary-label"},"Passed",-1))]),(0,a.Lk)("div",mt,[(0,a.bF)(n,{size:"16",color:"#EF4444"},{default:(0,a.k6)(()=>t[19]||(t[19]=[(0,a.eW)("mdi-close-circle")])),_:1,__:[19]}),(0,a.Lk)("span",ft,(0,w.v_)(l.summary.failed),1),t[20]||(t[20]=(0,a.Lk)("span",{class:"summary-label"},"Failed",-1))]),(0,a.Lk)("div",gt,[(0,a.bF)(n,{size:"16",color:"#F59E0B"},{default:(0,a.k6)(()=>t[21]||(t[21]=[(0,a.eW)("mdi-pause-circle")])),_:1,__:[21]}),(0,a.Lk)("span",vt,(0,w.v_)(l.summary.skipped),1),t[22]||(t[22]=(0,a.Lk)("span",{class:"summary-label"},"Skipped",-1))])])]),(0,a.Lk)("div",kt,[(0,a.Lk)("div",yt,[(0,a.Lk)("div",bt,[(0,a.bF)(n,{size:"20",color:"#06B6D4"},{default:(0,a.k6)(()=>t[23]||(t[23]=[(0,a.eW)("mdi-clock-outline")])),_:1,__:[23]})]),(0,a.Lk)("div",_t,[t[24]||(t[24]=(0,a.Lk)("span",{class:"time-label"},"Execution Time",-1)),(0,a.Lk)("span",wt,(0,w.v_)(l.timeAgo),1)])]),(0,a.Lk)("div",Ft,[(0,a.Lk)("div",St,[(0,a.bF)(n,{size:"20",color:"#8B5CF6"},{default:(0,a.k6)(()=>t[25]||(t[25]=[(0,a.eW)("mdi-timer-outline")])),_:1,__:[25]})]),(0,a.Lk)("div",Et,[t[26]||(t[26]=(0,a.Lk)("span",{class:"duration-label"},"Total Duration",-1)),(0,a.Lk)("span",xt,(0,w.v_)(l.summary.duration),1)])])])])]),(0,a.Lk)("div",Ct,[i.error?((0,a.uX)(),(0,a.CE)("div",Lt,(0,w.v_)(i.error),1)):s.report&&Array.isArray(s.report.features)&&0!==s.report.features.length?((0,a.uX)(),(0,a.CE)(a.FK,{key:2},[(0,a.Lk)("div",Tt,[(0,a.Lk)("div",At,[(0,a.Lk)("div",{class:(0,w.C4)(["control-toggle",{active:i.searchQuery||i.searchExpanded}]),onClick:t[0]||(t[0]=(...e)=>l.toggleSearchExpanded&&l.toggleSearchExpanded(...e))},[(0,a.Lk)("div",Wt,[(0,a.bF)(n,{size:"22",color:i.searchQuery?"#60A5FA":l.isDarkTheme?"#94A3B8":"#64748b",class:"control-icon-search"},{default:(0,a.k6)(()=>t[27]||(t[27]=[(0,a.eW)("mdi-magnify")])),_:1,__:[27]},8,["color"])]),(0,a.Lk)("div",Dt,[t[28]||(t[28]=(0,a.Lk)("span",{class:"control-label"},"Search",-1)),i.searchQuery?((0,a.uX)(),(0,a.Wv)(c,{key:0,color:"primary",size:"x-small",class:"results-count"},{default:(0,a.k6)(()=>[(0,a.eW)((0,w.v_)(i.searchResults.total),1)]),_:1})):(0,a.Q3)("",!0)]),(0,a.Lk)("div",Pt,[i.searchQuery&&!i.searchExpanded?((0,a.uX)(),(0,a.Wv)(d,{key:0,onClick:(0,r.D$)(l.clearSearch,["stop"]),variant:"text",color:"secondary",size:"x-small",class:"clear-btn-inline"},{default:(0,a.k6)(()=>[(0,a.bF)(n,{size:"14"},{default:(0,a.k6)(()=>t[29]||(t[29]=[(0,a.eW)("mdi-close")])),_:1,__:[29]})]),_:1},8,["onClick"])):(0,a.Q3)("",!0),(0,a.bF)(n,{class:(0,w.C4)([{"rotate-180":i.searchExpanded},"expand-icon"]),color:"#9CA3AF",size:"18"},{default:(0,a.k6)(()=>t[30]||(t[30]=[(0,a.eW)(" mdi-chevron-down ")])),_:1,__:[30]},8,["class"])])],2),(0,a.Lk)("div",{class:(0,w.C4)(["control-toggle",{active:l.hasActiveFilters||i.filtersExpanded}]),onClick:t[1]||(t[1]=(...e)=>l.toggleFiltersExpanded&&l.toggleFiltersExpanded(...e))},[(0,a.Lk)("div",$t,[(0,a.bF)(n,{size:"22",color:l.hasActiveFilters?"#A78BFA":l.isDarkTheme?"#94A3B8":"#64748b",class:"control-icon-filter"},{default:(0,a.k6)(()=>t[31]||(t[31]=[(0,a.eW)("mdi-filter-variant")])),_:1,__:[31]},8,["color"])]),(0,a.Lk)("div",zt,[t[32]||(t[32]=(0,a.Lk)("span",{class:"control-label"},"Filters",-1)),l.hasActiveFilters?((0,a.uX)(),(0,a.Wv)(c,{key:0,color:"secondary",size:"x-small",class:"results-count"},{default:(0,a.k6)(()=>[(0,a.eW)((0,w.v_)(l.getActiveFiltersCount()),1)]),_:1})):(0,a.Q3)("",!0)]),(0,a.Lk)("div",It,[l.hasActiveFilters&&!i.filtersExpanded?((0,a.uX)(),(0,a.Wv)(d,{key:0,onClick:(0,r.D$)(l.clearAllFilters,["stop"]),variant:"text",color:"secondary",size:"x-small",class:"clear-btn-inline"},{default:(0,a.k6)(()=>[(0,a.bF)(n,{size:"14"},{default:(0,a.k6)(()=>t[33]||(t[33]=[(0,a.eW)("mdi-filter-remove")])),_:1,__:[33]})]),_:1},8,["onClick"])):(0,a.Q3)("",!0),(0,a.bF)(n,{class:(0,w.C4)([{"rotate-180":i.filtersExpanded},"expand-icon"]),color:"#9CA3AF",size:"18"},{default:(0,a.k6)(()=>t[34]||(t[34]=[(0,a.eW)(" mdi-chevron-down ")])),_:1,__:[34]},8,["class"])])],2)]),(0,a.Lk)("div",Xt,[(0,a.Lk)("div",{class:(0,w.C4)(["panel-container",{expanded:i.searchExpanded}])},[i.searchExpanded?((0,a.uX)(),(0,a.CE)("div",Mt,[(0,a.Lk)("div",Ot,[(0,a.bF)(u,{modelValue:i.searchQuery,"onUpdate:modelValue":t[2]||(t[2]=e=>i.searchQuery=e),placeholder:"Search features, scenarios, and steps...","prepend-inner-icon":"mdi-magnify",clearable:"",variant:"outlined",density:"comfortable",class:"search-input",onInput:l.onSearchInput,"hide-details":"",autofocus:""},null,8,["modelValue","onInput"]),i.searchQuery&&i.searchResults.total>0?((0,a.uX)(),(0,a.CE)("div",Ut,[(0,a.Lk)("div",jt,[(0,a.bF)(c,{color:"success",size:"small",variant:"flat"},{default:(0,a.k6)(()=>[(0,a.bF)(n,{size:"14",class:"mr-1"},{default:(0,a.k6)(()=>t[35]||(t[35]=[(0,a.eW)("mdi-check-circle")])),_:1,__:[35]}),(0,a.eW)(" "+(0,w.v_)(i.searchResults.total)+" results found ",1)]),_:1})]),(0,a.Lk)("div",Nt,[(0,a.Lk)("span",Bt,[(0,a.bF)(n,{size:"12",color:"#6366F1"},{default:(0,a.k6)(()=>t[36]||(t[36]=[(0,a.eW)("mdi-file-document")])),_:1,__:[36]}),(0,a.eW)(" "+(0,w.v_)(i.searchResults.features)+" features ",1)]),(0,a.Lk)("span",Jt,[(0,a.bF)(n,{size:"12",color:"#8B5CF6"},{default:(0,a.k6)(()=>t[37]||(t[37]=[(0,a.eW)("mdi-script-text")])),_:1,__:[37]}),(0,a.eW)(" "+(0,w.v_)(i.searchResults.scenarios)+" scenarios ",1)]),(0,a.Lk)("span",Vt,[(0,a.bF)(n,{size:"12",color:"#06B6D4"},{default:(0,a.k6)(()=>t[38]||(t[38]=[(0,a.eW)("mdi-format-list-numbered")])),_:1,__:[38]}),(0,a.eW)(" "+(0,w.v_)(i.searchResults.steps)+" steps ",1)])])])):i.searchQuery&&0===i.searchResults.total?((0,a.uX)(),(0,a.CE)("div",Qt,[(0,a.bF)(c,{color:"warning",size:"small",variant:"flat"},{default:(0,a.k6)(()=>[(0,a.bF)(n,{size:"14",class:"mr-1"},{default:(0,a.k6)(()=>t[39]||(t[39]=[(0,a.eW)("mdi-alert-circle")])),_:1,__:[39]}),t[40]||(t[40]=(0,a.eW)(" No results found "))]),_:1,__:[40]}),t[41]||(t[41]=(0,a.Lk)("p",{class:"no-results-text"},"Try adjusting your search terms or check spelling",-1))])):(0,a.Q3)("",!0)])])):(0,a.Q3)("",!0)],2),(0,a.Lk)("div",{class:(0,w.C4)(["panel-container",{expanded:i.filtersExpanded}])},[i.filtersExpanded?((0,a.uX)(),(0,a.CE)("div",Gt,[(0,a.Lk)("div",Ht,[(0,a.Lk)("div",Kt,[(0,a.Lk)("div",qt,[(0,a.Lk)("label",Yt,[(0,a.bF)(n,{size:"16",color:"#10B981",class:"mr-1"},{default:(0,a.k6)(()=>t[42]||(t[42]=[(0,a.eW)("mdi-check-circle")])),_:1,__:[42]}),t[43]||(t[43]=(0,a.eW)(" Status "))]),(0,a.bF)(p,{modelValue:i.filters.status,"onUpdate:modelValue":[t[3]||(t[3]=e=>i.filters.status=e),l.applyFilters],items:l.statusFilterOptions,"item-title":"text","item-value":"value",multiple:"",chips:"","closable-chips":"",variant:"outlined",density:"compact",class:"filter-select",placeholder:"All statuses","hide-details":""},null,8,["modelValue","items","onUpdate:modelValue"])]),(0,a.Lk)("div",Zt,[(0,a.Lk)("label",es,[(0,a.bF)(n,{size:"16",color:"#F59E0B",class:"mr-1"},{default:(0,a.k6)(()=>t[44]||(t[44]=[(0,a.eW)("mdi-tag")])),_:1,__:[44]}),t[45]||(t[45]=(0,a.eW)(" Tags "))]),(0,a.bF)(p,{modelValue:i.filters.tags,"onUpdate:modelValue":[t[4]||(t[4]=e=>i.filters.tags=e),l.applyFilters],items:l.availableTags,multiple:"",chips:"","closable-chips":"",variant:"outlined",density:"compact",class:"filter-select",placeholder:"All tags","hide-details":""},null,8,["modelValue","items","onUpdate:modelValue"])]),(0,a.Lk)("div",ts,[(0,a.Lk)("label",ss,[(0,a.bF)(n,{size:"16",color:"#06B6D4",class:"mr-1"},{default:(0,a.k6)(()=>t[46]||(t[46]=[(0,a.eW)("mdi-timer")])),_:1,__:[46]}),t[47]||(t[47]=(0,a.eW)(" Duration "))]),(0,a.bF)(p,{modelValue:i.filters.duration,"onUpdate:modelValue":[t[5]||(t[5]=e=>i.filters.duration=e),l.applyFilters],items:l.durationFilterOptions,"item-title":"text","item-value":"value",variant:"outlined",density:"compact",class:"filter-select",placeholder:"All durations","hide-details":""},null,8,["modelValue","items","onUpdate:modelValue"])]),(0,a.Lk)("div",rs,[(0,a.Lk)("label",as,[(0,a.bF)(n,{size:"16",color:"#8B5CF6",class:"mr-1"},{default:(0,a.k6)(()=>t[48]||(t[48]=[(0,a.eW)("mdi-file-document")])),_:1,__:[48]}),t[49]||(t[49]=(0,a.eW)(" Features "))]),(0,a.bF)(p,{modelValue:i.filters.features,"onUpdate:modelValue":[t[6]||(t[6]=e=>i.filters.features=e),l.applyFilters],items:l.availableFeatures,"item-title":"text","item-value":"value",multiple:"",chips:"","closable-chips":"",variant:"outlined",density:"compact",class:"filter-select",placeholder:"All features","hide-details":""},null,8,["modelValue","items","onUpdate:modelValue"])])]),l.hasActiveFilters?((0,a.uX)(),(0,a.CE)("div",os,[(0,a.Lk)("div",is,[(0,a.bF)(n,{size:"16",color:"#6366F1",class:"mr-1"},{default:(0,a.k6)(()=>t[50]||(t[50]=[(0,a.eW)("mdi-filter-check")])),_:1,__:[50]}),t[51]||(t[51]=(0,a.Lk)("span",{class:"summary-label"},"Active Filters",-1))]),(0,a.Lk)("div",ls,[(0,a.Lk)("span",ns,(0,w.v_)(l.getActiveFiltersText()),1),(0,a.bF)(c,{color:"primary",size:"small",variant:"outlined",class:"results-chip"},{default:(0,a.k6)(()=>[(0,a.eW)((0,w.v_)(l.filteredFeaturesCount)+" features shown ",1)]),_:1})])])):(0,a.Q3)("",!0)])])):(0,a.Q3)("",!0)],2)])]),(0,a.Lk)("div",cs,[(0,a.Lk)("div",ds,[(0,a.bF)(n,{color:"primary",size:"18",class:"mr-1"},{default:(0,a.k6)(()=>t[52]||(t[52]=[(0,a.eW)("mdi-laptop")])),_:1,__:[52]}),t[53]||(t[53]=(0,a.Lk)("span",{class:"env-label"},"Environment:",-1)),(0,a.Lk)("span",us,(0,w.v_)(s.report.environment||"Test Environment"),1)]),(0,a.Lk)("div",ps,[(0,a.Lk)("span",hs,[(0,a.bF)(n,{color:"success",size:"18"},{default:(0,a.k6)(()=>t[54]||(t[54]=[(0,a.eW)("mdi-check-circle")])),_:1,__:[54]}),(0,a.eW)(" "+(0,w.v_)(l.summary.passed)+" Passed ",1)]),(0,a.Lk)("span",ms,[(0,a.bF)(n,{color:"error",size:"18"},{default:(0,a.k6)(()=>t[55]||(t[55]=[(0,a.eW)("mdi-close-circle")])),_:1,__:[55]}),(0,a.eW)(" "+(0,w.v_)(l.summary.failed)+" Failed ",1)]),(0,a.Lk)("span",fs,[(0,a.bF)(n,{color:"warning",size:"18"},{default:(0,a.k6)(()=>t[56]||(t[56]=[(0,a.eW)("mdi-alert-circle")])),_:1,__:[56]}),(0,a.eW)(" "+(0,w.v_)(l.summary.skipped)+" Skipped ",1)]),(0,a.Lk)("span",gs,[(0,a.bF)(n,{color:"primary",size:"18"},{default:(0,a.k6)(()=>t[57]||(t[57]=[(0,a.eW)("mdi-timer")])),_:1,__:[57]}),(0,a.eW)(" "+(0,w.v_)(l.summary.duration),1)])])]),l.filteredFeatures.length>50?((0,a.uX)(),(0,a.Wv)(v,{key:0,items:l.filteredFeatures,"item-height":120,"container-height":600,class:"cucumber-features-list"},{default:(0,a.k6)(({item:e,index:s})=>[((0,a.uX)(),(0,a.Wv)(g,{key:e.id||e.name,class:"virtual-feature-panel"},{default:(0,a.k6)(()=>[(0,a.bF)(h,{class:(0,w.C4)(["cucumber-feature-row",[l.featureStatus(e)]])},{default:(0,a.k6)(()=>["passed"===l.featureStatus(e)?((0,a.uX)(),(0,a.Wv)(n,{key:0,color:"success",size:"18"},{default:(0,a.k6)(()=>t[58]||(t[58]=[(0,a.eW)("mdi-check-circle")])),_:1,__:[58]})):"failed"===l.featureStatus(e)?((0,a.uX)(),(0,a.Wv)(n,{key:1,color:"error",size:"18"},{default:(0,a.k6)(()=>t[59]||(t[59]=[(0,a.eW)("mdi-close-circle")])),_:1,__:[59]})):"skipped"===l.featureStatus(e)?((0,a.uX)(),(0,a.Wv)(n,{key:2,color:"warning",size:"18"},{default:(0,a.k6)(()=>t[60]||(t[60]=[(0,a.eW)("mdi-alert-circle")])),_:1,__:[60]})):((0,a.uX)(),(0,a.Wv)(n,{key:3,color:"grey",size:"18"},{default:(0,a.k6)(()=>t[61]||(t[61]=[(0,a.eW)("mdi-help-circle")])),_:1,__:[61]})),(0,a.Lk)("span",vs,(0,w.v_)(e.uri||e.name),1),e.tags&&e.tags.length?((0,a.uX)(),(0,a.CE)("span",ks,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.tags,e=>((0,a.uX)(),(0,a.CE)("span",{key:e,class:"feature-tag"},(0,w.v_)(l.cleanTagText(e)),1))),128))])):(0,a.Q3)("",!0)]),_:2},1032,["class"]),(0,a.bF)(f,null,{default:(0,a.k6)(()=>[(0,a.bF)(m,{feature:e},null,8,["feature"])]),_:2},1024)]),_:2},1024))]),_:1},8,["items"])):((0,a.uX)(),(0,a.Wv)(k,{key:1,multiple:"",class:"cucumber-features-list"},{default:(0,a.k6)(()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.filteredFeatures,(e,s)=>((0,a.uX)(),(0,a.Wv)(g,{key:e.id||e.name},{default:(0,a.k6)(()=>[(0,a.bF)(h,{class:(0,w.C4)(["cucumber-feature-row",[l.featureStatus(e)]])},{default:(0,a.k6)(()=>["passed"===l.featureStatus(e)?((0,a.uX)(),(0,a.Wv)(n,{key:0,color:"success",size:"18"},{default:(0,a.k6)(()=>t[62]||(t[62]=[(0,a.eW)("mdi-check-circle")])),_:1,__:[62]})):"failed"===l.featureStatus(e)?((0,a.uX)(),(0,a.Wv)(n,{key:1,color:"error",size:"18"},{default:(0,a.k6)(()=>t[63]||(t[63]=[(0,a.eW)("mdi-close-circle")])),_:1,__:[63]})):"skipped"===l.featureStatus(e)?((0,a.uX)(),(0,a.Wv)(n,{key:2,color:"warning",size:"18"},{default:(0,a.k6)(()=>t[64]||(t[64]=[(0,a.eW)("mdi-alert-circle")])),_:1,__:[64]})):((0,a.uX)(),(0,a.Wv)(n,{key:3,color:"grey",size:"18"},{default:(0,a.k6)(()=>t[65]||(t[65]=[(0,a.eW)("mdi-help-circle")])),_:1,__:[65]})),(0,a.Lk)("span",ys,(0,w.v_)(e.uri||e.name),1),e.tags&&e.tags.length?((0,a.uX)(),(0,a.CE)("span",bs,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.tags,e=>((0,a.uX)(),(0,a.CE)("span",{key:e,class:"feature-tag"},(0,w.v_)(l.cleanTagText(e)),1))),128))])):(0,a.Q3)("",!0)]),_:2},1032,["class"]),(0,a.bF)(f,null,{default:(0,a.k6)(()=>[e.description?((0,a.uX)(),(0,a.CE)("div",_s,(0,w.v_)(e.description),1)):(0,a.Q3)("",!0),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.elements.filter(e=>"background"!==e.type),e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id||e.name,class:"cucumber-scenario-block"},[(0,a.bF)(k,null,{default:(0,a.k6)(()=>[(0,a.bF)(g,null,{default:(0,a.k6)(()=>[(0,a.bF)(h,{class:"scenario-header-row"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",ws,[(0,a.Lk)("div",Fs,[(0,a.Lk)("span",Ss,(0,w.v_)(e.keyword||"Scenario")+": "+(0,w.v_)(e.name||e.id||(e.type?e.type:"Unnamed Scenario")),1),"passed"===l.scenarioStatus(e)?((0,a.uX)(),(0,a.Wv)(n,{key:0,color:"success",size:"18"},{default:(0,a.k6)(()=>t[66]||(t[66]=[(0,a.eW)("mdi-check-circle")])),_:1,__:[66]})):"failed"===l.scenarioStatus(e)?((0,a.uX)(),(0,a.Wv)(n,{key:1,color:"error",size:"18"},{default:(0,a.k6)(()=>t[67]||(t[67]=[(0,a.eW)("mdi-close-circle")])),_:1,__:[67]})):"skipped"===l.scenarioStatus(e)?((0,a.uX)(),(0,a.Wv)(n,{key:2,color:"warning",size:"18"},{default:(0,a.k6)(()=>t[68]||(t[68]=[(0,a.eW)("mdi-alert-circle")])),_:1,__:[68]})):((0,a.uX)(),(0,a.Wv)(n,{key:3,color:"grey",size:"18"},{default:(0,a.k6)(()=>t[69]||(t[69]=[(0,a.eW)("mdi-help-circle")])),_:1,__:[69]})),(0,a.Lk)("span",Es,(0,w.v_)(l.formatDuration(e.duration)),1)]),e.tags&&e.tags.length?((0,a.uX)(),(0,a.CE)("div",xs,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.tags,e=>((0,a.uX)(),(0,a.CE)("span",{key:e,class:"scenario-tag"},(0,w.v_)(l.cleanTagText(e)),1))),128))])):(0,a.Q3)("",!0)])]),_:2},1024),(0,a.bF)(f,null,{default:(0,a.k6)(()=>[(0,a.Lk)("ul",Cs,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.steps,(s,r)=>((0,a.uX)(),(0,a.CE)("li",{key:s.keyword+s.name+r,class:"cucumber-step-row"},["passed"===l.stepStatus(s)?((0,a.uX)(),(0,a.Wv)(n,{key:0,color:"success",size:"16"},{default:(0,a.k6)(()=>t[70]||(t[70]=[(0,a.eW)("mdi-check-circle")])),_:1,__:[70]})):"failed"===l.stepStatus(s)?((0,a.uX)(),(0,a.Wv)(n,{key:1,color:"error",size:"16"},{default:(0,a.k6)(()=>t[71]||(t[71]=[(0,a.eW)("mdi-close-circle")])),_:1,__:[71]})):"skipped"===l.stepStatus(s)?((0,a.uX)(),(0,a.Wv)(n,{key:2,color:"warning",size:"16"},{default:(0,a.k6)(()=>t[72]||(t[72]=[(0,a.eW)("mdi-alert-circle")])),_:1,__:[72]})):((0,a.uX)(),(0,a.Wv)(n,{key:3,color:"grey",size:"16"},{default:(0,a.k6)(()=>t[73]||(t[73]=[(0,a.eW)("mdi-help-circle")])),_:1,__:[73]})),(0,a.Lk)("span",Ls,(0,w.v_)(s.keyword),1),(0,a.Lk)("span",Rs,(0,w.v_)(s.name),1),s.duration?((0,a.uX)(),(0,a.CE)("span",Ts,"("+(0,w.v_)(l.formatDuration(s.duration))+")",1)):(0,a.Q3)("",!0),l.getStepErrorMessage(s)?((0,a.uX)(),(0,a.CE)("div",As,[(0,a.Lk)("div",Ws,[(0,a.bF)(n,{color:"error",size:"16",class:"mr-1"},{default:(0,a.k6)(()=>t[74]||(t[74]=[(0,a.eW)("mdi-alert-circle")])),_:1,__:[74]}),t[75]||(t[75]=(0,a.Lk)("span",{class:"error-label"},"Error Details:",-1))]),(0,a.Lk)("pre",Ds,(0,w.v_)(l.getDisplayErrorMessage(s)),1),l.shouldTruncateError(s)?((0,a.uX)(),(0,a.CE)("div",Ps,[(0,a.bF)(d,{onClick:e=>l.toggleErrorExpansion(s),text:"",small:"",color:"primary",class:"expand-error-btn"},{default:(0,a.k6)(()=>[(0,a.bF)(n,{size:"14",class:"mr-1"},{default:(0,a.k6)(()=>[(0,a.eW)((0,w.v_)(s._showFullError?"mdi-chevron-up":"mdi-chevron-down"),1)]),_:2},1024),(0,a.eW)(" "+(0,w.v_)(s._showFullError?"Show less":"Show more..."),1)]),_:2},1032,["onClick"]),(0,a.bF)(d,{onClick:e=>l.copyErrorToClipboard(s),text:"",small:"",color:"secondary",class:"copy-error-btn"},{default:(0,a.k6)(()=>[(0,a.bF)(n,{size:"14",class:"mr-1"},{default:(0,a.k6)(()=>t[76]||(t[76]=[(0,a.eW)("mdi-content-copy")])),_:1,__:[76]}),t[77]||(t[77]=(0,a.eW)(" Copy "))]),_:2,__:[77]},1032,["onClick"])])):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0),"failed"===l.stepStatus(s)&&l.getScenarioScreenshots(e).length>0?((0,a.uX)(),(0,a.CE)("div",$s,[(0,a.Lk)("div",zs,[(0,a.bF)(n,{color:"info",size:"16",class:"mr-1"},{default:(0,a.k6)(()=>t[78]||(t[78]=[(0,a.eW)("mdi-camera")])),_:1,__:[78]}),t[79]||(t[79]=(0,a.Lk)("span",{class:"screenshots-label"},"Screenshots:",-1))]),(0,a.Lk)("div",Is,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.getScenarioScreenshots(e),(s,r)=>((0,a.uX)(),(0,a.CE)("div",{key:r,class:"screenshot-thumbnail",onClick:t=>l.openScreenshotModal(e,r)},[(0,a.Lk)("img",{src:s.dataUrl,alt:`Screenshot ${r+1}`,class:"thumbnail-image",onLoad:t[7]||(t[7]=(...e)=>l.onScreenshotLoad&&l.onScreenshotLoad(...e)),onError:t[8]||(t[8]=(...e)=>l.onScreenshotError&&l.onScreenshotError(...e))},null,40,Ms),(0,a.Lk)("div",Os,[(0,a.bF)(n,{color:"white",size:"20"},{default:(0,a.k6)(()=>t[80]||(t[80]=[(0,a.eW)("mdi-magnify-plus")])),_:1,__:[80]})])],8,Xs))),128))])])):(0,a.Q3)("",!0)]))),128))])]),_:2},1024)]),_:2},1024)]),_:2},1024)]))),128))]),_:2},1024)]),_:2},1024))),128))]),_:1}))],64)):((0,a.uX)(),(0,a.CE)("div",Rt," No report data available or invalid report format. Please upload a valid Cucumber JSON file. "))])])}const js={name:"ReportViewer",props:{report:{type:Object,required:!1},selectedFeatureIndex:{type:Number,default:0}},methods:{scenarioStatus(e){return e.status?e.status:e.steps&&e.steps.some(e=>e.result&&"failed"===e.result.status||"failed"===e.status)?"failed":e.steps&&e.steps.every(e=>e.result&&"skipped"===e.result.status||"skipped"===e.status)?"skipped":e.steps&&e.steps.every(e=>e.result&&"passed"===e.result.status||"passed"===e.status)?"passed":"unknown"},scenarioStatusStyle(e){const t=this.scenarioStatus(e);return"passed"===t?{background:"#e8f5e9",color:"#388e3c",fontWeight:"bold"}:"failed"===t?{background:"#ffebee",color:"#e53935",fontWeight:"bold"}:{background:"#f2f2f2",color:"#222"}},getStepErrorMessage(e){return e.result&&e.result.error_message?e.result.error_message:e.errorMessage?e.errorMessage:null},getDisplayErrorMessage(e){const t=this.getStepErrorMessage(e);if(!t)return"";if(e._showFullError)return t;{const e=this.extractMainErrorMessage(t);return e}},extractMainErrorMessage(e){if(!e)return"";const t=e.split("\n");for(let r=0;r<Math.min(3,t.length);r++){const e=t[r].trim();if(e.includes("Exception:")||e.includes("Error:")||e.includes("AssertionError:")||e.includes("TimeoutException:")||e.includes("ElementNotFound")||e.includes("NoSuchElement")||e.includes("WebDriverException")||e.match(/^\w+(\.\w+)*Exception:/))return e}const s=t.find(e=>e.trim().length>0);return s?s.trim():t[0]||""},shouldTruncateError(e){const t=this.getStepErrorMessage(e);return t&&t.split("\n").length>3},toggleErrorExpansion(e){e._showFullError=!e._showFullError},copyErrorToClipboard(e){const t=this.getStepErrorMessage(e);t&&navigator.clipboard.writeText(t).then(()=>{console.log("Error message copied to clipboard")}).catch(e=>{console.error("Failed to copy error message:",e)})},getScenarioScreenshots(e){const t=[];return e.after&&Array.isArray(e.after)&&e.after.forEach(e=>{e.embeddings&&Array.isArray(e.embeddings)&&e.embeddings.forEach(e=>{("image/png"===e.mime_type||e.data&&e.data.startsWith("iVBORw0KGgo"))&&t.push({dataUrl:`data:image/png;base64,${e.data}`,mimeType:e.mime_type||"image/png"})})}),t},openScreenshotModal(e,t){const s=this.getScenarioScreenshots(e);s.length>t&&this.showScreenshotDialog(s,t)},showScreenshotDialog(e,t){const s=e[t],r=window.open("","_blank");r.document.write(`\n        <html>\n          <head><title>Screenshot ${t+1}</title></head>\n          <body style="margin:0; background:#000; display:flex; justify-content:center; align-items:center; min-height:100vh;">\n            <img src="${s.dataUrl}" style="max-width:100%; max-height:100%; object-fit:contain;" />\n          </body>\n        </html>\n      `)},onScreenshotLoad(){console.log("Screenshot loaded successfully")},onScreenshotError(){console.error("Failed to load screenshot")},stepStatus(e){return e.result&&e.result.status?e.result.status:e.status?e.status:"unknown"},stepKeywordClass(e){return"step-keyword"},formatDuration(e,t=!1){if("number"!==typeof e||isNaN(e))return"-";if(e>1e6&&(e/=1e9),e>=60){const t=Math.floor(e/60),s=Math.round(e%60);return`${t} minute${1!==t?"s":""} ${s} second${1!==s?"s":""}`}return e<1&&!t?(1e3*e).toFixed(0)+" ms":e.toFixed(2)+" s"},shouldTruncate(e){return e&&e.split("\n").length>5},truncateError(e){if(!e)return"";const t=e.split("\n");return t.slice(0,5).join("\n")+(t.length>5?"\n...":"")},summaryBarWidth(e){const t=this.summary.total||1,s=this.summary[e]||0;return(s/t*100).toFixed(1)+"%"},featureStatus(e){if(!e||!e.elements)return"";const t=e.elements.filter(e=>"background"!==e.type);return 0===t.length?"":t.some(e=>"failed"===this.scenarioStatus(e))?"failed":t.every(e=>"passed"===this.scenarioStatus(e))?"passed":t.every(e=>"skipped"===this.scenarioStatus(e))?"skipped":""},onSearchInput(){this.searchDebounceTimer&&clearTimeout(this.searchDebounceTimer),this.searchDebounceTimer=setTimeout(()=>{this.performSearch()},300)},performSearch(){if(!this.searchQuery||""===this.searchQuery.trim())return void(this.searchResults={total:0,features:0,scenarios:0,steps:0});const e=this.searchQuery.toLowerCase().trim();let t=0,s=0,r=0,a=0;this.report&&this.report.features?(this.report.features.forEach(o=>{const i=`${o.name||""} ${o.description||""} ${o.uri||""}`.toLowerCase();i.includes(e)&&(s++,t++),o.tags&&o.tags.forEach(r=>{const a=this.cleanTagText(r).toLowerCase();a.includes(e)&&(s++,t++)}),o.elements&&o.elements.forEach(s=>{const o=`${s.name||""}`.toLowerCase();o.includes(e)&&(r++,t++),s.tags&&s.tags.forEach(s=>{const a=this.cleanTagText(s).toLowerCase();a.includes(e)&&(r++,t++)}),s.steps&&s.steps.forEach(s=>{const r=`${s.keyword||""} ${s.name||""}`.toLowerCase();r.includes(e)&&(a++,t++),s.errorMessage&&s.errorMessage.toLowerCase().includes(e)&&(a++,t++)})})}),this.searchResults={total:t,features:s,scenarios:r,steps:a}):this.searchResults={total:0,features:0,scenarios:0,steps:0}},cleanTagText(e){let t="";return t="string"===typeof e?e:e&&"object"===typeof e?e.name||e.value||e.tag||e.text||"":e?String(e):"",t.replace(/[{}]/g,"")},applyFilters(){},clearAllFilters(){this.filters={status:[],tags:[],duration:null,features:[]}},getActiveFiltersText(){const e=[];if(this.filters.status.length>0&&e.push(`Status: ${this.filters.status.join(", ")}`),this.filters.tags.length>0&&e.push(`Tags: ${this.filters.tags.join(", ")}`),this.filters.duration){const t=this.durationFilterOptions.find(e=>e.value===this.filters.duration);e.push(`Duration: ${t?.text||this.filters.duration}`)}return this.filters.features.length>0&&e.push(`Features: ${this.filters.features.length} selected`),e.join(" | ")},toggleSearchExpanded(){this.searchExpanded=!this.searchExpanded},clearSearch(){this.searchQuery="",this.searchResults={total:0,features:0,scenarios:0,steps:0}},toggleFiltersExpanded(){this.filtersExpanded=!this.filtersExpanded},getActiveFiltersCount(){let e=0;return this.filters.status.length>0&&e++,this.filters.tags.length>0&&e++,this.filters.duration&&e++,this.filters.features.length>0&&e++,e},getCompactActiveFilters(){const e=[];if(this.filters.status.length>0&&e.push(`Status: ${this.filters.status.length}`),this.filters.tags.length>0&&e.push(`Tags: ${this.filters.tags.length}`),this.filters.duration){const t=this.durationFilterOptions.find(e=>e.value===this.filters.duration);e.push(`Duration: ${t?.text||this.filters.duration}`)}return this.filters.features.length>0&&e.push(`Features: ${this.filters.features.length}`),e.slice(0,3)},getFeatureDuration(e){if(!e||!e.elements)return 0;let t=0;return e.elements.forEach(e=>{e.steps&&e.steps.forEach(e=>{e.result&&"number"===typeof e.result.duration?t+=e.result.duration:"number"===typeof e.duration&&(t+=e.duration)})}),t>1e6&&(t/=1e9),t}},data(){return{error:"",searchQuery:"",searchResults:{total:0,features:0,scenarios:0,steps:0},searchDebounceTimer:null,searchExpanded:!1,filters:{status:[],tags:[],duration:null,features:[]},filtersExpanded:!1}},computed:{isDarkTheme(){return this.$store.getters["theme/isDark"]},reportFeatures(){return this.report?.features||[]},featuresCount(){return this.reportFeatures.length},summary(){let e=0,t=0,s=0,r=0,a=0;return this.report&&Array.isArray(this.report.features)?(this.report.features.forEach(o=>{const i=Array.isArray(o.elements)?o.elements.filter(e=>"background"!==e.type):[];i.forEach(o=>{const i=this.scenarioStatus(o);"passed"===i?e++:"failed"===i?t++:s++,r++,Array.isArray(o.steps)&&(a+=o.steps.reduce((e,t)=>e+("number"===typeof t.result?.duration?t.result.duration:0),0)),Array.isArray(o.before)&&(a+=o.before.reduce((e,t)=>e+("number"===typeof t.result?.duration?t.result.duration:0),0)),Array.isArray(o.after)&&(a+=o.after.reduce((e,t)=>e+("number"===typeof t.result?.duration?t.result.duration:0),0))})}),{passed:e,failed:t,skipped:s,total:r,duration:this.formatDuration(a,!0)}):{passed:e,failed:t,skipped:s,total:r,duration:0}},statusFilterOptions(){return[{text:"Passed",value:"passed"},{text:"Failed",value:"failed"},{text:"Skipped",value:"skipped"}]},durationFilterOptions(){return[{text:"Fast tests (< 1s)",value:"fast"},{text:"Medium tests (1-10s)",value:"medium"},{text:"Slow tests (> 10s)",value:"slow"}]},availableTags(){if(!this.report||!this.report.features)return[];const e=new Set;return this.report.features.forEach(t=>{t.tags&&t.tags.forEach(t=>{const s=this.cleanTagText(t);s&&e.add(s)}),t.elements&&t.elements.forEach(t=>{t.tags&&t.tags.forEach(t=>{const s=this.cleanTagText(t);s&&e.add(s)})})}),Array.from(e).sort()},availableFeatures(){return this.report&&this.report.features?this.report.features.map(e=>({text:e.name||e.uri||"Unnamed Feature",value:e.id||e.name||e.uri})):[]},hasActiveFilters(){return this.filters.status.length>0||this.filters.tags.length>0||null!==this.filters.duration||this.filters.features.length>0},filteredFeatures(){return this.report&&this.report.features?this.hasActiveFilters?this.report.features.filter(e=>{if(this.filters.status.length>0){const t=this.featureStatus(e);if(this.filters.status.includes("skipped")){const s=e.elements&&e.elements.some(e=>e.steps&&e.steps.some(e=>e.result&&"skipped"===e.result.status||"skipped"===e.status));if(s);else if(!this.filters.status.includes(t))return!1}else if(!this.filters.status.includes(t))return!1}if(this.filters.tags.length>0){const t=[];e.tags&&e.tags.forEach(e=>{const s=this.cleanTagText(e);s&&t.push(s)}),e.elements&&e.elements.forEach(e=>{e.tags&&e.tags.forEach(e=>{const s=this.cleanTagText(e);s&&t.push(s)})});const s=this.filters.tags.some(e=>t.includes(e));if(!s)return!1}if(this.filters.duration){const t=this.getFeatureDuration(e);if("fast"===this.filters.duration&&t>=1)return!1;if("medium"===this.filters.duration&&(t<1||t>10))return!1;if("slow"===this.filters.duration&&t<=10)return!1}if(this.filters.features.length>0){const t=e.id||e.name||e.uri;if(!this.filters.features.includes(t))return!1}return!0}):this.report.features:[]},filteredFeaturesCount(){return this.filteredFeatures.length},reportTimestamp(){if(!this.report||!this.report.features)return null;let e=null;return this.report.features.forEach(t=>{t.elements&&t.elements.forEach(t=>{if(t.start_timestamp){const s=new Date(t.start_timestamp);(!e||s<e)&&(e=s)}})}),e},timeAgo(){if(!this.reportTimestamp)return"1 day ago";const e=new Date,t=e-this.reportTimestamp,s=Math.floor(t/6e4),r=Math.floor(t/36e5),a=Math.floor(t/864e5);return s<1?"just now":s<60?`${s} minute${1!==s?"s":""} ago`:r<24?`${r} hour${1!==r?"s":""} ago`:a<30?`${a} day${1!==a?"s":""} ago`:this.reportTimestamp.toLocaleDateString()},formattedDate(){return this.reportTimestamp?this.reportTimestamp.toLocaleString():""},passedPercentage(){return 0===this.summary.total?0:(this.summary.passed/this.summary.total*100).toFixed(1)},failedPercentage(){return 0===this.summary.total?0:(this.summary.failed/this.summary.total*100).toFixed(1)}}},Ns=(0,n.A)(js,[["render",Us],["__scopeId","data-v-f19255cc"]]),Bs=Ns;var Js=s(953);const Vs={components:{ReportViewer:Bs,ThemeToggle:Fe},setup(){const e=(0,be.Pj)(),t=(0,u.lq)(),s=t&&t.params&&t.params.id?t.params.id:null,r=(0,Js.Kh)({staticReport:null}),o=(0,a.EW)(()=>{if(s&&localStorage.getItem("uploaded-report-"+s))try{const e=JSON.parse(localStorage.getItem("uploaded-report-"+s));if(Array.isArray(e))return{features:e};if(e&&Array.isArray(e.features))return e}catch{}if(e.state.reportData&&e.state.reportData._uploadedId===s){if(Array.isArray(e.state.reportData))return{features:e.state.reportData};if(e.state.reportData&&Array.isArray(e.state.reportData.features))return e.state.reportData}if(r.staticReport){if(Array.isArray(r.staticReport))return{features:r.staticReport};if(r.staticReport&&Array.isArray(r.staticReport.features))return r.staticReport}return null}),i=(0,Js.KR)(0),l=e=>{i.value=e};(0,a.sV)(()=>{s&&(e.state.reportData&&e.state.reportData._uploadedId===s||localStorage.getItem("uploaded-report-"+s)||fetch("/TestResultsPr1/TestResultsJsons/"+s+".json",{cache:"reload"}).then(e=>e.ok?e.json():null).then(e=>{Array.isArray(e)?r.staticReport={features:e}:e&&Array.isArray(e.features)?r.staticReport=e:r.staticReport=null}).catch(()=>{r.staticReport=null}))});let n=!1;if("undefined"!==typeof window){const e=window.location.hash,t=e.includes("?")?e.split("?")[1]:"",s=new URLSearchParams(t),r=parseInt(s.get("t"),10);if(r&&!isNaN(r)){const e=Date.now();n=e-r>864e5}}const c=(0,a.EW)(()=>e.state.reportData&&e.state.reportData._uploadedId===s);return{reportData:o,selectedFeatureIndex:i,onSelectFeature:l,expired:n,sessionOnly:c}}},Qs=(0,n.A)(Vs,[["render",Ue],["__scopeId","data-v-700a0d47"]]),Gs=Qs,Hs=[{path:"/",name:"Home",component:Ae},{path:"/report/:id",name:"Report",component:Gs,props:!0},{path:"/report",redirect:"/"}],Ks=(0,u.aE)({history:(0,u.Bt)(),routes:Hs}),qs=Ks,Ys={namespaced:!0,state:{isDark:!1,systemPreference:!1,userPreference:"system"},mutations:{SET_THEME(e,t){e.isDark=t},SET_SYSTEM_PREFERENCE(e,t){e.systemPreference=t},SET_USER_PREFERENCE(e,t){e.userPreference=t}},actions:{initializeTheme({commit:e,dispatch:t}){const s=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;e("SET_SYSTEM_PREFERENCE",s);const r=localStorage.getItem("theme-preference")||"system";if(e("SET_USER_PREFERENCE",r),t("applyTheme"),window.matchMedia){const s=window.matchMedia("(prefers-color-scheme: dark)");s.addEventListener("change",s=>{e("SET_SYSTEM_PREFERENCE",s.matches),"system"===r&&t("applyTheme")})}},applyTheme({state:e,commit:t}){let s=!1;s="dark"===e.userPreference||"light"!==e.userPreference&&e.systemPreference,t("SET_THEME",s),s?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.removeAttribute("data-theme")},toggleTheme({state:e,commit:t,dispatch:s}){const r=e.isDark?"light":"dark";t("SET_USER_PREFERENCE",r),localStorage.setItem("theme-preference",r),s("applyTheme")},setThemePreference({commit:e,dispatch:t},s){e("SET_USER_PREFERENCE",s),localStorage.setItem("theme-preference",s),t("applyTheme")}},getters:{isDark:e=>e.isDark,userPreference:e=>e.userPreference,systemPreference:e=>e.systemPreference,currentTheme:e=>e.isDark?"dark":"light"}},Zs=(0,be.y$)({state:{reportData:null},mutations:{setReportData(e,t){e.reportData=t}},actions:{uploadReport({commit:e},t){e("setReportData",t)}},getters:{getReportData:e=>e.reportData},modules:{theme:Ys}});s(5524);var er=s(5850),tr=s(421),sr=s(1357),rr=s(87);const ar={dark:!1,colors:{primary:"#3B82F6",secondary:"#64748B",accent:"#10B981",error:"#EF4444",warning:"#F59E0B",info:"#06B6D4",success:"#10B981",background:"#FFFFFF",surface:"#F8FAFC","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#F1F5F9","on-background":"#1E293B","on-surface":"#334155","on-surface-variant":"#64748B","on-primary":"#FFFFFF","on-secondary":"#FFFFFF","on-success":"#FFFFFF","on-warning":"#000000","on-error":"#FFFFFF","on-info":"#FFFFFF"}},or={dark:!0,colors:{primary:"#60A5FA",secondary:"#94A3B8",accent:"#34D399",error:"#F87171",warning:"#FBBF24",info:"#22D3EE",success:"#34D399",background:"#1A202C",surface:"#2D3748","surface-bright":"#4A5568","surface-light":"#374151","surface-variant":"#4A5568","on-background":"#E2E8F0","on-surface":"#CBD5E0","on-surface-variant":"#A0AEC0","on-primary":"#1A202C","on-secondary":"#1A202C","on-success":"#1A202C","on-warning":"#1A202C","on-error":"#1A202C","on-info":"#1A202C"}},ir=(0,er.$N)({components:tr,directives:sr,icons:{defaultSet:"mdi",aliases:rr.z,sets:{mdi:rr.r}},theme:{defaultTheme:"light",themes:{light:ar,dark:or},variations:{colors:["primary","secondary","accent"],lighten:4,darken:4}}}),lr=ir,nr=(0,r.Ef)(d);nr.use(qs),nr.use(Zs),nr.use(lr),Zs.dispatch("theme/initializeTheme"),Zs.watch(e=>e.theme.isDark,e=>{lr.theme.global.name.value=e?"dark":"light"}),nr.mount("#app")}},t={};function s(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,s),o.exports}s.m=e,(()=>{var e=[];s.O=(t,r,a,o)=>{if(!r){var i=1/0;for(d=0;d<e.length;d++){for(var[r,a,o]=e[d],l=!0,n=0;n<r.length;n++)(!1&o||i>=o)&&Object.keys(s.O).every(e=>s.O[e](r[n]))?r.splice(n--,1):(l=!1,o<i&&(i=o));if(l){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[r,a,o]}})(),(()=>{s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}})(),(()=>{s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{s.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{var e={524:0};s.O.j=t=>0===e[t];var t=(t,r)=>{var a,o,[i,l,n]=r,c=0;if(i.some(t=>0!==e[t])){for(a in l)s.o(l,a)&&(s.m[a]=l[a]);if(n)var d=n(s)}for(t&&t(r);c<i.length;c++)o=i[c],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(d)},r=self["webpackChunkcucumber_report_viewer"]=self["webpackChunkcucumber_report_viewer"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=s.O(void 0,[96],()=>s(8481));r=s.O(r)})();
//# sourceMappingURL=app.06797d93.js.map